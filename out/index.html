<!DOCTYPE html><html style="height:100%" class="jsx-3241352696"><head><meta charSet="utf-8" class="next-head"/><title class="next-head">Next-blog</title><link rel="preload" href="/next-blog/_next/static/_C0lHUbZafnHm5wwQ5b9U/pages/page.js" as="script"/><link rel="preload" href="/next-blog/_next/static/_C0lHUbZafnHm5wwQ5b9U/pages/_app.js" as="script"/><link rel="preload" href="/next-blog/_next/static/_C0lHUbZafnHm5wwQ5b9U/pages/_error.js" as="script"/><link rel="preload" href="/next-blog/_next/static/runtime/webpack-bf0647fcc5634d05e2c1.js" as="script"/><link rel="preload" href="/next-blog/_next/static/chunks/commons.fe83b0699cc115d8f2f1.js" as="script"/><link rel="preload" href="/next-blog/_next/static/runtime/main-8c21d63e457d27dcf8e4.js" as="script"/><style id="__jsx-821146791">a.jsx-821146791{margin-right:30px;font-size:20px;-webkit-text-decoration:none;text-decoration:none;cursor:pointer;color:rgba(0,0,0,0.7);}</style><style id="__jsx-1769670723">header.jsx-1769670723{box-shadow:0 0 1px rgba(0,0,0,0.2);-webkit-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;}
.header-container.jsx-1769670723{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;margin:0 auto;padding-top:20px;max-width:1000px;padding-bottom:20px;}
div.slogan.jsx-1769670723{display:inline-block;font-weight:bold;font-size:24px;font-family:"Oswald",sans-serif;}
a.jsx-1769670723{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;color:rgba(0,0,0,0.7);}</style><style id="__jsx-1755787817">.card.jsx-1755787817{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding-top:10px;padding-bottom:15px;height:200px;width:100%;margin-right:40px;}
.post-overview.jsx-1755787817{padding-top:0;padding-bottom:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
.post-content.jsx-1755787817{overflow:hidden;line-height:23px;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:5;white-space:pre-wrap;-webkit-box-orient:vertical;}
.post-title.jsx-1755787817{font-size:24px;}
.read-more.jsx-1755787817{font-size:12px;}
a.jsx-1755787817{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;color:rgba(0,0,0,0.7);}
a.jsx-1755787817:hover{color:blue;opacity:0.6;cursor:pointer;}</style><style id="__jsx-1081340487">ul{padding:0;}
.card-container{box-shadow:0 2px 1px -2px rgba(0,0,0,0.2);}
.card-container:last-child{box-shadow:0 2px 1px -2px rgba(0,0,0,0);}
li{list-style:none;}</style><style id="__jsx-1925800513">.jsx-1925800513{text-align:center;}
.page-number.jsx-1925800513{margin-right:15px;}
.page-number.jsx-1925800513:nth-child(1){cursor:text;}
.page-number.jsx-1925800513:nth-child(1):hover{color:black;}</style><style id="__jsx-1395599585">.sidebar-title.jsx-1395599585{padding-bottom:10px;font-size:large;box-shadow:0 2px 1px -2px rgba(0,0,0,0.2);}
.sidebar-tag.jsx-1395599585{padding-top:10px;}
a.jsx-1395599585{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;color:rgba(0,0,0,0.7);}</style><style id="__jsx-3163762700">.home-container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;margin-top:20px;}
.content-with-pagination{margin-right:100px;}
.post-list-container{-webkit-flex:1 auto;-ms-flex:1 auto;flex:1 auto;}
.sidebar-container{min-width:150px;}</style><style id="__jsx-1732950521">.footer-container.jsx-1732950521{height:40px;margin-top:40px;background-color:black;}
.footer-content.jsx-1732950521{color:white;max-width:1000px;font-family:"Oswald",sans-serif;margin:10px auto;line-height:1.5;}
a.jsx-1732950521{margin-left:5px;color:white;}</style><style id="__jsx-2994019239">.jsx-2994019239{font-family:"Open Sans","Roboto","Microsoft YaHei","å¾®è½¯é›…é»‘",STXihei, "åæ–‡ç»†é»‘",sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:auto;}
.content-container.jsx-2994019239{margin-top:50;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;}
.content.jsx-2994019239{margin:0 auto;max-width:1000px;height:100%;min-height:650px;}</style><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto|Open+Sans:300,400,500" class="jsx-3241352696"/><link href="https://fonts.googleapis.com/css?family=Oswald" rel="stylesheet" class="jsx-3241352696"/><link href="/static/dracula.css" rel="stylesheet" class="jsx-3241352696"/><script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js" class="jsx-3241352696"></script><script class="jsx-3241352696">hljs.initHighlightingOnLoad();</script></head><body style="height:100%;margin:0" class="jsx-3241352696"><div id="__next"><div class="jsx-2994019239"><header class="jsx-1769670723"><div class="jsx-1769670723 header-container"><div class="jsx-1769670723 slogan"><a class="jsx-1769670723" href="/next-blog/page/?cur=1">Star Boy</a></div><div class="jsx-821146791"><a class="jsx-821146791" href="/next-blog/page/">Home</a><a class="jsx-821146791" href="/next-blog/about/">About</a></div></div></header><div class="jsx-2994019239 content-container"><div class="jsx-2994019239 content"><div class="jsx-3163762700 home-container"><div class="jsx-3163762700 content-with-pagination"><div class="jsx-1081340487 post-list-container"><ul class="jsx-1081340487"><div class="jsx-1755787817 card-container"><div class="jsx-1755787817 card"><div class="jsx-1755787817 post-overview"><a class="jsx-1755787817 post-title" href="/next-blog/post/goodbye-redux/"> [ç¿»è¯‘]å†è§äº†, Redux</a><div class="jsx-1755787817 post-content">å®Œæ•´åˆ†ææˆ‘ä»¬è¿‡å»ä¸ºä»€ä¹ˆéœ€è¦ Reduxï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸å†éœ€è¦å®ƒçš„åŸå› ã€‚åœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œäº’è”ç½‘æŠ€æœ¯å·²ç»å‘å‰ç«¯ JavaScript æ¡†æ¶è½¬ç§»ï¼Œä»¥æé«˜ Web å’Œç§»åŠ¨åº”ç”¨çš„ç”¨æˆ·ä½“éªŒã€‚è¿™å¤ªæ£’äº† ğŸ”¥ï¼Œæˆ‘ä¸ªäººååˆ†å–œæ¬¢è¿™äº›æ¡†æ¶çš„çµæ´»æ€§ã€‚ ä½†æ˜¯ï¼Œå¤ªçµæ´»äº†...ä¸ºäº†çœŸæ­£ç†è§£å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› ï¼Œè®©æˆ‘ä»¬å›æ‹¨ä¸€ä¸‹æ—¶é—´ï¼Œçœ‹çœ‹åº”ç”¨ç¨‹åºåœ¨ JavaScript æ¡†æ¶å­˜åœ¨ä¹‹å‰æ˜¯å¦‚ä½•æ„å»ºçš„ã€‚åœ¨æœ€åˆçš„å‡ ä¸ªå‰ç«¯æ¡†æ¶ï¼ˆæœ€è‘—åçš„åº”è¯¥æ˜¯ AngularJSï¼Œ Backbone å’Œ Emberï¼‰å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬æ›¾ç»åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¨¡æ¿ï¼Œç„¶åå°†æ•´ä¸ª HTML é¡µé¢å‘é€ç»™æµè§ˆå™¨ã€‚å½“æ—¶æµè¡Œçš„æ¡†æ¶åŒ…æ‹¬ï¼š- Django(Python) â€” 2005 å¹´ 7 æœˆ 21 æ—¥æ­£å¼å‘å¸ƒï¼›~è·ä»Š 13 å¹´ã€‚- Ruby on Rails â€” 2005 å¹´ 12 æœˆ 13 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 13 å¹´ã€‚- Symphony(PHP) â€” 2005 å¹´åæœˆ 22 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 13 å¹´ã€‚è¿™äº›æ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µéƒ½æ˜¯ MVCï¼Œä¹Ÿå°±æ˜¯ Model-Viewâ€”Controller çš„åº”ç”¨å¼€å‘ç»“æ„ã€‚Models æ˜¯æ•°æ®çš„ã€ç»“æ„ã€ï¼Œviews æ˜¯ã€å±•ç¤ºã€æ•°æ®çš„æ¨¡æ¿ï¼Œ controllers è´Ÿè´£å°†å…¶ã€è¿æ¥ã€ã€‚ è¿™ä¸ªæ—¶å€™å½“ç„¶ä¹Ÿæ˜¯æœ‰ JavaScript çš„ï¼Œåªä¸è¿‡æ˜¯ä¸€äº›åƒ jQuery æ»‘å—ä»¥åŠä¸€äº›å®ç°å¼¹è·³åŠ¨ç”»çš„å…¶ä»–å¥‡æ€ªçš„åº“ï¼Œè¿™äº›éƒ½æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦çš„...æ€»çš„æ¥è¯´ï¼Œä½¿ç”¨è¿™äº›æ¡†æ¶æ„å»ºçš„ App è¡¨ç°å¾—ç›¸å½“ä¸é”™ï¼Œä½†è¿˜æ˜¯ä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚ ç„¶åæœ‰ä¸€å¤©ï¼ŒRyan Dahl çµå…‰ä¸€é—ªï¼Œä¸å†ä»…ä»…å°† JavaScript ä½œä¸ºå®ŒæˆåŠ¨ç”»æ•ˆæœçš„å·¥å…·ã€‚ä»–å¼€å‘äº†ç¬¬ä¸€ç‰ˆçš„ Node.jsï¼Œ ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨æµè§ˆå™¨å¤–ä»¥åŠæœåŠ¡å™¨ç«¯ä½¿ç”¨ JavaScriptã€‚- Node.js â€” 2009 å¹´ 5 æœˆ 27 æ—¥æ­£å¼å‘å¸ƒï¼›~è·ä»Š 9 å¹´ã€‚çªç„¶ä¹‹é—´ï¼Œäººä»¬å¼€å§‹æ„è¯†åˆ° Java</div><a class="jsx-1755787817 read-more" href="/next-blog/post/goodbye-redux/">Read more</a></div></div></div><div class="jsx-1755787817 card-container"><div class="jsx-1755787817 card"><div class="jsx-1755787817 post-overview"><a class="jsx-1755787817 post-title" href="/next-blog/post/react-native-at-airbnb-4/"> [ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š å¼ƒç”¨ React Native</a><div class="jsx-1755787817 post-content">ç”±äºå¤§é‡çš„æŠ€æœ¯å’Œç»„ç»‡é—®é¢˜,æˆ‘ä»¬å°†å¼ƒç”¨ React Native,å¹¶ä¸”ä»Šåå°†ä½¿ç”¨ Native è¿›è¡Œå¼€å‘.è¿™æ˜¯æˆ‘ä»¬ä»‹ç» React Native ç»éªŒå’Œ Airbnb mobile æœªæ¥è®¡åˆ’ç³»åˆ—åšå®¢çš„ç¬¬å››ç¯‡.å°½ç®¡å·²ç»æœ‰è®¸å¤šå›¢é˜Ÿæ­£åœ¨ä½¿ç”¨æˆ–è®¡åˆ’ä½¿ç”¨ React Native è¿›è¡Œå¼€å‘, ä½†æ˜¯ä½¿ç”¨ React Native å´æ— æ³•æ‰“åˆ°æˆ‘ä»¬æœ€åˆçš„ç›®æ ‡.æ­¤å¤–,æˆ‘ä»¬è¿˜é‡åˆ°äº†è®¸å¤šæ— æ³•å…‹æœçš„æŠ€æœ¯å’Œç»„ç»‡æ–¹é¢çš„é—®é¢˜,ä½¿å¾— React Native çš„å¼€å‘å·¥ä½œå˜å¾—æ›´åŠ å›°éš¾.å› æ­¤,æˆ‘ä»¬å°†å¼ƒç”¨ React Native,å¹¶ä½¿ç”¨ Native å¼€å‘ç»§ç»­å‰è¿›.å¦‚æœ React Native å¦‚é¢„æœŸä¸€æ ·å·¥ä½œ, å¼€å‘å°†ä¼šååˆ†è¿…é€Ÿ. ä½†æ˜¯å¤§é‡çš„æŠ€æœ¯å’Œç»„ç»‡æ–¹é¢çš„é—®é¢˜,ä½¿è®¸å¤šé¡¹ç›®äº§ç”Ÿäº†éé¢„æœŸçš„æ¨è¿Ÿ.æœ€è¿‘, éšç€ React Native çš„ä¸æ–­æˆç†Ÿä»¥åŠç§¯ç´¯</div><a class="jsx-1755787817 read-more" href="/next-blog/post/react-native-at-airbnb-4/">Read more</a></div></div></div><div class="jsx-1755787817 card-container"><div class="jsx-1755787817 card"><div class="jsx-1755787817 post-overview"><a class="jsx-1755787817 post-title" href="/next-blog/post/react-native-at-airbnb-5/"> [ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š ç§»åŠ¨ç«¯å‘å±•è®¡åˆ’</a><div class="jsx-1755787817 post-content">æ•´è£…å¾…å‘,é‡å›åŸç”Ÿè¿™æ˜¯æˆ‘ä»¬ä»‹ç» React Native ç»éªŒå’Œ Airbnb mobile æœªæ¥è®¡åˆ’ç³»åˆ—åšå®¢çš„ç¬¬äº”ç¯‡è™½ç„¶åœ¨ä½¿ç”¨ React Native å¼€å‘,ä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸€ç›´åœ¨ç§¯ç´¯åŸç”Ÿå¼€å‘çš„ç»éªŒ.ç°åœ¨æˆ‘ä»¬å·²ç»ä¸€ç³»åˆ—æ­£åœ¨è¿›è¡Œä¸­æˆ–å·²å®Œæˆçš„é¡¹ç›®.å…¶ä¸­,éƒ¨åˆ†é¡¹ç›®æ˜¯å—åˆ° React Native ç»éªŒå’Œæœ€ä½³å®è·µçš„å¯å‘è€Œå®Œæˆçš„.å°½ç®¡ä¸å†ä½¿ç”¨ React Native, æˆ‘ä»¬ä»ç„¶ååˆ†é‡è§†åªå†™ä¸€æ¬¡äº§å“ä»£ç çš„ä»·å€¼. æˆ‘ä»¬ä»ç„¶é«˜åº¦ä¾èµ–æˆ‘ä»¬çš„ç»Ÿä¸€è®¾è®¡è¯­è¨€ç³»ç»Ÿ, ä½¿è®¸å¤š Android å’Œ iOS çš„é¡µé¢çœ‹èµ·æ¥å®Œå…¨ä¸€æ ·.è®¸å¤šå›¢é˜Ÿå·²ç»å°è¯•äº†å¼ºå¤§çš„æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æ¡†æ¶,å¹¶ä¸”è¾¾æˆä¸€è‡´.åœ¨è¿™äº›æ¡†æ¶ä¸­,æœåŠ¡å™¨å°†æè¿°ç»„ä»¶æ¸²æŸ“,é¡µé¢é…ç½®å’Œç›¸å…³æ“ä½œçš„ä¿¡æ¯å‘é€ç»™ç§»åŠ¨è®¾å¤‡.ä¸åŒçš„ç§»åŠ¨å¹³å°è·å–åˆ°æ•°æ®åä½¿ç”¨ DLS ç»„ä»¶æ¸²æŸ“åŸç”Ÿé¡µé¢æˆ–è€…æ•´ä¸ªæµç¨‹.å¤§è§„æ¨¡æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¹Ÿå­˜åœ¨ç€ä¸€äº›æŒ‘æˆ˜. ä¸‹é¢æ˜¯æˆ‘ä»¬æ­£åœ¨è§£å†³çš„ä¸€äº›é—®é¢˜:- å®‰å…¨å‡çº§ç»„ä»¶å®šä¹‰çš„åŒæ—¶ç»´æŠ¤å‘ä¸‹å…¼å®¹æ€§.- è·¨å¹³å°å…±äº«ç»„ä»¶çš„ç±»å‹å®šä¹‰.- åœ¨è¿è¡Œæ—¶çš„äº‹ä»¶å“åº”,å¦‚ç‚¹å‡»æŒ‰é’®æˆ–ç”¨æˆ·è¾“å…¥- å¤šä¸ª JSON é©±åŠ¨é¡µé¢é—´è·³è½¬çš„åŒæ—¶,ç»´æŠ¤å†…éƒ¨çŠ¶æ€.- æ„å»ºæ—¶æ²¡æœ‰å®ç°çš„è‡ªå®šä¹‰ç»„ä»¶çš„æ¸²æŸ“.æˆ‘ä»¬æ­£åœ¨å°è¯•ä½¿ç”¨Lonaè§£å†³.æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¡†æ¶ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´æ–¹ä¾¿çš„è¿›è¡Œè¯•éªŒä»¥åŠçƒ­æ›´æ–°,ä¸ºæˆ‘ä»¬æä¾›äº†å·¨å¤§çš„ä»·å€¼.åœ¨ 2016 å¹´,æˆ‘ä»¬å¼€æºäº† Android çš„Epoxy.Epoxy å¯ä»¥å®ç°ç®€å•çš„å¼‚æ„`RecyclerViews`, `UICollectionViews`å’Œ`UITableviews`.</div><a class="jsx-1755787817 read-more" href="/next-blog/post/react-native-at-airbnb-5/">Read more</a></div></div></div><div class="jsx-1755787817 card-container"><div class="jsx-1755787817 card"><div class="jsx-1755787817 post-overview"><a class="jsx-1755787817 post-title" href="/next-blog/post/redux-vs-context-api/"> å¯¹æ¯” Redux å’Œ Context API</a><div class="jsx-1755787817 post-content">React åœ¨ 16.3 ç‰ˆæœ¬ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ Context APIï¼Œ ã€Œæ–°ã€çš„æ„æ€æ˜¯æŒ‡ä¹‹å‰çš„ Context API æ˜¯ä¸€ä¸ªéšè—çš„åŠŸèƒ½ã€‚ ç”±äºåœ¨å®˜æ–¹æ–‡æ¡£ä¸­å¹¶ä¸é¼“åŠ±ä½¿ç”¨ Context APIï¼Œ å¤§å¤šæ•°äººéƒ½é¿å…ä½¿ç”¨å®ƒï¼Œç”šè‡³éƒ½ä¸çŸ¥é“å®ƒçš„å­˜åœ¨ã€‚è€Œç°åœ¨ Context API å˜æˆäº† React ä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œ å¹¶ä¸”å¼€æ”¾ç»™äº†æ‰€æœ‰äºº(æ¥è‡ªå®˜æ–¹æ¨å¹¿)ã€‚React 16.3 ä¸€å‘å¸ƒï¼Œ ç½‘ä¸Šçš„å¾ˆå¤šæ–‡ç« å°±å› æ–° Context API çš„å‡ºç°ï¼Œå®£å¸ƒã€ŒRedux å·²æ­»ã€ã€‚ ç„¶è€Œå¦‚æœä½ é—®è¿‡ Reduxï¼Œæˆ‘ç›¸ä¿¡å®ƒä¼šå›ç­”ä½ :ã€Œé‚£äº›è¨€è®ºéƒ½æ˜¯å¤¸å¤§å…¶è¯ã€ã€‚æœ¬æ–‡å°†ä¼šä»‹ç»æ–° Context API æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œ å®ƒä¸ Redux çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œ ä»€ä¹ˆæ—¶å€™åº”è¯¥é€‰ç”¨ Contextï¼Œä»¥åŠä¸ºä»€ä¹ˆ Context å¹¶ä¸èƒ½å®Œå…¨å–ä»£ Reduxã€‚å¦‚æœä½ åªæƒ³å¤§è‡´äº†è§£ Contextï¼Œ å¯ä»¥ç›´æ¥æŸ¥çœ‹(ç°åœ¨ï¼Œå‡è®¾ä½ å·²ç»æ¸…æ¥š React çš„åŸºç¡€æ¦‚å¿µ(props &amp; state)ï¼Œ å¦‚æœä½ è¿˜ä¸æ¸…æ¥šï¼Œ è¿™é‡Œæœ‰ä¸€ä¸ªå…è´¹çš„äº”å¤©è¯¾ç¨‹å¯ä»¥å¸®åŠ©ä½ å­¦ä¹  Reactã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªå¤§å¤šæ•°äººä¼šé€‰æ‹©ä½¿ç”¨ Redux çš„ä¾‹å­.æˆ‘ä»¬é¦–å…ˆä»ç®€å•çš„çº¯ React ç‰ˆæœ¬å¼€å§‹ï¼Œå†çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Reduxï¼Œæœ€åæ˜¯ Contextã€‚è¿™ä¸ª app åœ¨ä¸¤å¤„åœ°æ–¹æ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯:ä¸€ä¸ªæ˜¯åœ¨å¯¼èˆªæ çš„å³ä¸Šè§’ï¼Œä¸€ä¸ªæ˜¯åœ¨ä¸»è¦å†…å®¹å·¦ä¾§çš„ä¾§æ ã€‚(ä½ ä¹Ÿè®¸æ³¨æ„åˆ°äº†ï¼Œ è¿™çœ‹èµ·æ¥å¾ˆåƒ Twitterã€‚è¿™å¹¶éå¶ç„¶ï¼ ç£¨ç‚¼ React æŠ€æœ¯æœ€å¥½çš„æ–¹æ³•å°±æ˜¯æ¨¡ä»¿(</div><a class="jsx-1755787817 read-more" href="/next-blog/post/redux-vs-context-api/">Read more</a></div></div></div><div class="jsx-1755787817 card-container"><div class="jsx-1755787817 card"><div class="jsx-1755787817 post-overview"><a class="jsx-1755787817 post-title" href="/next-blog/post/react-native-at-airbnb-3/"> [ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š æ„å»ºä¸€ä¸ªè·¨å¹³å°çš„ç§»åŠ¨ç«¯å›¢é˜Ÿ</a><div class="jsx-1755787817 post-content">React Native è½¬å‹è¿™æ˜¯ Airbnb å…³äº React Native ç»éªŒåˆ†äº«å’Œç§»åŠ¨ç«¯æœªæ¥è®¡åˆ’ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸‰ç¯‡.é™¤äº†æ•°ä¸å°½çš„æŠ€æœ¯ä¸Šçš„åˆ©å¼Š, æˆ‘ä»¬è¿˜äº†è§£åˆ° React Native å¯¹å·¥ç¨‹å›¢é˜Ÿçš„æ„ä¹‰. è¿™è¿œæ¯”å‘å½“å‰å¹³å°ä¸­æ·»åŠ ä¸€ä¸ªæ–°åº“æˆ–æ¨¡å¼è¦å¤æ‚çš„å¤š,æˆ‘ä»¬åœ¨æœŸé—´é­é‡äº†è®¸å¤šç»„ç»‡ä¸Šçš„æŒ‘æˆ˜.ä¸æŠ€æœ¯ä¸Šçš„æŒ‘æˆ˜ä¸åŒ,ç»„ç»‡ä¸Šçš„æŒ‘æˆ˜æ›´éš¾å‘ç°,è§£å†³,æ¢å¤.è°¢å¤©è°¢åœ°,æˆ‘ä»¬çš„ mobile æ–‡åŒ–ååˆ†å¥å…¨,ä½†ä¸‹é¢æ˜¯åœ¨å›¢é˜Ÿä¸­ä½¿ç”¨ React Native æ—¶éœ€è¦æ³¨æ„çš„ä¸€äº›äº‹é¡¹.æ ¹æ®æˆ‘ä»¬çš„ç»éªŒ, å·¥ç¨‹å¸ˆä»¬å…³äº React Native æœ‰ç€å®Œå…¨ä¸åŒçš„çœ‹æ³•,æœ‰äººè®¤ä¸ºå®ƒæ˜¯ç»Ÿä¸€äº† Android,iOS å’Œ web çš„é“¶å¼¹,æœ‰äººåˆ™å®Œå…¨åå¯¹åœ¨å›¢é˜Ÿä¸­ä½¿ç”¨ React Native.å³ä½¿æ˜¯åœ¨ä½¿ç”¨ä¹‹å,æƒ…å†µä¹Ÿååˆ†ç±»ä¼¼,æœ‰çš„å›¢é˜Ÿè®¤ä¸ºå®ƒæ˜¯æå¥½çš„,è€Œæœ‰çš„äººå´æ„Ÿåˆ°å¤±æœ›å¹¶é‡æ–°ä½¿ç”¨ native.åœ¨ä½¿ç”¨ React Native æ—¶ä¼šæœ‰è®¸å¤šä¸å¯é¿å…çš„ bug,æ”¹è¿›å’Œæ€§èƒ½é—®é¢˜.ä½†ä¹Ÿè¿˜æœ‰è®¸å¤šä¸æ–­å˜åŒ–çš„éƒ¨åˆ†:1.  React Native è‡ªèº«å˜åŒ–ååˆ†è¿…é€Ÿ2.  åŸºç¡€è®¾æ–½å’ŒåŠŸèƒ½çš„å¼€å‘æ˜¯åŒæ—¶è¿›è¡Œçš„3.  React Native å¯¹æ‰€æœ‰äººæ¥è¯´éƒ½æ˜¯ä¸€é—¨æ–°çš„æŠ€æœ¯,éœ€è¦å¤§å®¶ä¸€èµ·å­¦ä¹ 4.  æˆ‘ä»¬çš„æ–‡æ¡£ä¸è°ƒè¯•æŒ‡å¼•æœ‰æ—¶ä¼šä¸ä¸€è‡´,äº§ç”Ÿå›°æƒ‘å› æ­¤,æƒ³è¦æ‰¾åˆ°é—®é¢˜çš„æ ¹æœ¬åŸå§‹é€šå¸¸æ˜¯å¾ˆå›°éš¾çš„.æœ‰æ—¶æ— æ³•ç¡®å®šé—®é¢˜æ˜¯ç”±å“ªä¸ªå›¢é˜Ÿå¼•èµ·çš„è¿˜æ˜¯ React Native è‡ªèº«å¯¼è‡´çš„.ä¸€ä¸ªå¸¸è§çš„è¯¯è§£å°±æ˜¯ React Native å¯ä»¥ä½¿ä½ å®Œå…¨ä¸ç”¨å†™åŸç”Ÿä»£ç .ç„¶è€Œäº‹å®å¹¶éå¦‚æ­¤,æœ‰æ—¶ä½ ä»ç„¶éœ€è¦å†™åŸç”Ÿä»£ç .ä¾‹å¦‚,æ–‡æœ¬åœ¨ä¸åŒå¹³å°ä¸Šçš„æ¸²æŸ“ä¼šæœ‰ç»†å¾®çš„å·®åˆ«,é”®ç›˜çš„å¤„ç†ä¹Ÿæœ‰æ‰€ä¸åŒä»¥åŠåœ¨ Android ä¸Š Activity çš„é‡æ–°åˆ›å»ºå’Œæ—‹è½¬ç­‰. é«˜è´¨é‡çš„ React Native åº”ç”¨éœ€è¦ä»”ç»†åœ°å¹³è¡¡æ‰€æœ‰å¹³å°. è€Œ</div><a class="jsx-1755787817 read-more" href="/next-blog/post/react-native-at-airbnb-3/">Read more</a></div></div></div></ul></div><div class="jsx-1925800513"><a class="jsx-1925800513 page-number" href="/next-blog/page/1/">1</a><a class="jsx-1925800513 page-number" href="/next-blog/page/2/">2</a></div></div><div class="jsx-1395599585 sidebar-container"><div class="jsx-1395599585 sidebar-title">Tags:</div><div class="jsx-1395599585 sidebar-tag"><a class="jsx-1395599585" href="/next-blog/tags/Redux/">Redux  (2)</a></div><div class="jsx-1395599585 sidebar-tag"><a class="jsx-1395599585" href="/next-blog/tags/React-Native/">React-Native  (5)</a></div><div class="jsx-1395599585 sidebar-tag"><a class="jsx-1395599585" href="/next-blog/tags/React/">React  (1)</a></div></div></div></div></div><footer style="flex:0 0 auto" class="jsx-1732950521"><div class="jsx-1732950521 footer-container"><div class="jsx-1732950521 footer-content">Â© 2018 Yingjian Li. Powered by:<a href="https://nextjs.org/" class="jsx-1732950521">Next.js</a>. Inspired by<a href="https://github.com/frostfan/hexo-theme-polarbear" class="jsx-1732950521">Polar Bear</a></div></div></footer></div></div><script>__NEXT_DATA__ = {"props":{"pageProps":{"posts":[{"key":"goodbye-redux","content":"| date       | tag   |\n| ---------- | ----- |\n| 2018-09-18 | Redux |\n\n---\n\n# [ç¿»è¯‘]å†è§äº†, Redux\n\n_å®Œæ•´åˆ†ææˆ‘ä»¬è¿‡å»ä¸ºä»€ä¹ˆéœ€è¦ Reduxï¼Œä»¥åŠä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸å†éœ€è¦å®ƒçš„åŸå› ã€‚_\n\nåœ¨è¿‡å»çš„å‡ å¹´ä¸­ï¼Œäº’è”ç½‘æŠ€æœ¯å·²ç»å‘å‰ç«¯ JavaScript æ¡†æ¶è½¬ç§»ï¼Œä»¥æé«˜ Web å’Œç§»åŠ¨åº”ç”¨çš„ç”¨æˆ·ä½“éªŒã€‚è¿™å¤ªæ£’äº† ğŸ”¥ï¼Œæˆ‘ä¸ªäººååˆ†å–œæ¬¢è¿™äº›æ¡†æ¶çš„çµæ´»æ€§ã€‚\n\n\u003e ä½†æ˜¯ï¼Œå¤ªçµæ´»äº†...\n\nä¸ºäº†çœŸæ­£ç†è§£å‡ºç°è¿™ç§æƒ…å†µçš„åŸå› ï¼Œè®©æˆ‘ä»¬å›æ‹¨ä¸€ä¸‹æ—¶é—´ï¼Œçœ‹çœ‹åº”ç”¨ç¨‹åºåœ¨ JavaScript æ¡†æ¶å­˜åœ¨ä¹‹å‰æ˜¯å¦‚ä½•æ„å»ºçš„ã€‚\n\n## â³ï¼Œåœ¨ JavaScript ä¹‹å‰\n\nåœ¨æœ€åˆçš„å‡ ä¸ªå‰ç«¯æ¡†æ¶ï¼ˆæœ€è‘—åçš„åº”è¯¥æ˜¯ AngularJSï¼Œ Backbone å’Œ Emberï¼‰å‡ºç°ä¹‹å‰ï¼Œæˆ‘ä»¬æ›¾ç»åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“æ¨¡æ¿ï¼Œç„¶åå°†æ•´ä¸ª HTML é¡µé¢å‘é€ç»™æµè§ˆå™¨ã€‚å½“æ—¶æµè¡Œçš„æ¡†æ¶åŒ…æ‹¬ï¼š\n\n![](/static/template-frameworks.png)\n\n- Django(Python) â€” 2005 å¹´ 7 æœˆ 21 æ—¥æ­£å¼å‘å¸ƒï¼›~è·ä»Š 13 å¹´ã€‚\n- Ruby on Rails â€” 2005 å¹´ 12 æœˆ 13 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 13 å¹´ã€‚\n- Symphony(PHP) â€” 2005 å¹´åæœˆ 22 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 13 å¹´ã€‚\n\nè¿™äº›æ¡†æ¶çš„æ ¸å¿ƒæ¦‚å¿µéƒ½æ˜¯ MVCï¼Œä¹Ÿå°±æ˜¯ Model-Viewâ€”Controller çš„åº”ç”¨å¼€å‘ç»“æ„ã€‚Models æ˜¯æ•°æ®çš„ã€ç»“æ„ã€ï¼Œviews æ˜¯ã€å±•ç¤ºã€æ•°æ®çš„æ¨¡æ¿ï¼Œ controllers è´Ÿè´£å°†å…¶ã€è¿æ¥ã€ã€‚\n\n\u003e è¿™ä¸ªæ—¶å€™å½“ç„¶ä¹Ÿæ˜¯æœ‰ JavaScript çš„ï¼Œåªä¸è¿‡æ˜¯ä¸€äº›åƒ jQuery æ»‘å—ä»¥åŠä¸€äº›å®ç°å¼¹è·³åŠ¨ç”»çš„å…¶ä»–å¥‡æ€ªçš„åº“ï¼Œè¿™äº›éƒ½æ˜¯å®Œå…¨æ²¡æœ‰å¿…è¦çš„...\n\næ€»çš„æ¥è¯´ï¼Œä½¿ç”¨è¿™äº›æ¡†æ¶æ„å»ºçš„ App è¡¨ç°å¾—ç›¸å½“ä¸é”™ï¼Œä½†è¿˜æ˜¯ä¼šæœ‰ä¸€äº›é—®é¢˜ã€‚ ç„¶åæœ‰ä¸€å¤©ï¼ŒRyan Dahl çµå…‰ä¸€é—ªï¼Œä¸å†ä»…ä»…å°† JavaScript ä½œä¸ºå®ŒæˆåŠ¨ç”»æ•ˆæœçš„å·¥å…·ã€‚ä»–å¼€å‘äº†ç¬¬ä¸€ç‰ˆçš„ Node.jsï¼Œ ä½¿å¾—å¼€å‘è€…èƒ½å¤Ÿåœ¨æµè§ˆå™¨å¤–ä»¥åŠæœåŠ¡å™¨ç«¯ä½¿ç”¨ JavaScriptã€‚\n\n- Node.js â€” 2009 å¹´ 5 æœˆ 27 æ—¥æ­£å¼å‘å¸ƒï¼›~è·ä»Š 9 å¹´ã€‚\n\nçªç„¶ä¹‹é—´ï¼Œäººä»¬å¼€å§‹æ„è¯†åˆ° JavaScript å¼ºå¤§çš„åŠŸèƒ½ï¼Œåªéœ€è¦ä¸€ç‚¹ç‚¹ä»£ç å°±å¯ä»¥å®Œæˆå¤§é‡çš„å·¥ä½œã€‚è¿™ä¹Ÿè®©å…¶ä»–å¼€å‘è€…äº†è§£åˆ°äº† JavaScript çš„å¯èƒ½æ€§ã€‚äººä»¬ä¸ä»…å¼€å§‹ä¸º Node.js æ„å»ºæ›´å¤šå¼ºå¤§çš„å·¥å…·ï¼ŒåŒæ—¶è¿˜å¼€å§‹åˆ›é€ æœ‰è¶£çš„å‰ç«¯æ¡†æ¶ã€‚æœªæ¥å‡ å¹´ä¸­ JavaScript å‘å±•çš„é›ªçƒå°±æ˜¯ä»è¿™æ—¶å¼€å§‹çš„ã€‚\n\n![](/static/node-frameworks.png)\n\n- Express.js(åç«¯ï¼‰ â€” 2010 å¹´ 11 æœˆ 16 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 8 å¹´ã€‚\n- Backbone.js(å‰ç«¯ï¼‰ â€” 2010 å¹´ 10 æœˆ 12 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 8 å¹´ã€‚\n- AngularJS(å‰ç«¯ï¼‰ â€” 2010 å¹´ 10 æœˆ 20 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 8 å¹´ã€‚\n- Ember.js(å‰ç«¯ï¼‰ â€” 2011 å¹´ 12 æœˆ 8 æ—¥æ­£å¼å‘å¸ƒï¼› ~è·ä»Š 7 å¹´ã€‚\n\nè¿™ä½¿å¾— App å¼€å‘çš„æ–¹å¼å‘ç”Ÿäº†é‡å¤§è½¬å˜ã€‚ä¹‹å‰å®Œå…¨ç”±æœåŠ¡å™¨è¿›è¡Œå¤„ç†çš„ MVC ç»“æ„è¢«åˆ†æˆäº†ä¸¤éƒ¨åˆ†â€”â€”å¤„ç† MCï¼ˆmodels å’Œ controllersï¼‰çš„æœåŠ¡å™¨ï¼Œä»¥åŠä½¿ç”¨ä¸Šè¿° JavaScript æ¡†æ¶å¤„ç† view çš„å‰ç«¯å®¢æˆ·ç«¯ã€‚åœ¨ä¸€äº›æ—©æœŸçš„æ¡†æ¶ä¸­ï¼Œview ä¸­ä»ç„¶åŒ…å« models å’Œ controllersã€‚ä¸¤ä»½ model å’Œ controllersï¼Œæœ‰äº›åœ¨å‰ç«¯ï¼Œæœ‰äº›åœ¨åç«¯ â€” å¬èµ·æ¥éœ€è¦å¾ˆå¤šçš„ä»£ç ã€‚ğŸ™‡ğŸ½â€\n\n## ğŸ¤¦â€ï¼ŒFacebook çš„é—®é¢˜\n\næ¯ä¸ªäººéƒ½å¾ˆå¼€å¿ƒã€‚ä¸€åˆ‡éƒ½æ­£å¸¸è¿è¡Œè€Œä¸”æ˜“äºç†è§£ï¼Œåªéœ€è¦èŠ±è´¹å‡ ä¸ªå°æ—¶æ¥å­¦ä¹ ã€‚\n\n\u003e ç„¶åæƒ…å†µå‘ç”Ÿäº†å˜åŒ–\n\nFacebook è¿…é€Ÿå‘å±•ï¼Œæˆä¸ºäº†å…¨çƒæœ€å¤§çš„ web åº”ç”¨ã€‚ä½ å¯ä»¥æƒ³è±¡ï¼Œä½œä¸ºæœ€å¤§çš„ web åº”ç”¨ä¼šé‡åˆ°å¾ˆå¤šçš„æŒ‘æˆ˜ã€‚å…¶ä¸­æœ€å¤´ç—›çš„å°±æ˜¯å¦‚ä½•åœ¨é¡µçœ‰ä¸­æ­£ç¡®å±•ç¤ºé€šçŸ¥çš„æ•°é‡ã€‚\n\n![](/static/facebook-notifications.jpeg)\n\néšç€äººä»¬å¤§é‡çš„ä½¿ç”¨ Facebook åº”ç”¨ï¼Œäººä»¬æœŸæœ›åº”ç”¨ä¸­çš„é€šçŸ¥åº”è¯¥èƒ½å¤Ÿæ­£ç¡®æ›´æ–°ã€‚ä½†é€šå¸¸æƒ…å†µä¸‹å´ä¸æ˜¯è¿™æ ·çš„ã€‚æˆ‘ä¸æ¸…æ¥šä½ æ˜¯å¦åœ¨é‚£ä¸ªæ—¶å€™ä½¿ç”¨è¿‡ Facebook æˆ–è€…æ˜¯å¦è¿˜è®°å¾—ï¼Œä½†æ˜¯è¿™äº›é€šçŸ¥ç»å¸¸æ˜¯é”™çš„... é—®é¢˜å‡ºåœ¨å¯¹äº web åº”ç”¨æ¥è¯´å¾ˆéš¾è¯†åˆ«å‡ºåº”ç”¨ä¸­æŸä¸€éƒ¨åˆ†çš„æ”¹å˜ï¼ˆé˜…è¯»æ¶ˆæ¯ï¼‰å¹¶ä¸”å½±å“åº”ç”¨çš„å¦ä¸€éƒ¨åˆ†ï¼ˆå‡å°‘æœªè¯»æ¶ˆæ¯æ•°ï¼‰ã€‚\n\nè¿™å¹¶ä¸æ˜¯æœ€ç³Ÿç³•çš„äº‹ â€” è¿™å¯ä»¥é€šè¿‡é‡è½½é¡µé¢æ¥è§£å†³ â€” ä½† Facebook æ‹¥æœ‰è¶…è¿‡ 1000 ä¸ªå……æ»¡çƒ­æƒ…çš„å‘˜å·¥ï¼Œå¹¶å†³å®šæ˜¯æ—¶å€™åšäº›äº‹æƒ…äº†ã€‚å› æ­¤ä»–ä»¬é‡æ–°æ€è€ƒäº†å‰ç«¯æ¡†æ¶å¦‚ä½•å¤„ç†ä¿¡æ¯å¹¶ä¸”å†³å®šåˆ›é€ ä¸€ä¸ªä»–ä»¬è‡ªå·±çš„å‰ç«¯æ¡†æ¶ï¼›Reactã€‚\n\n- Reactï¼ˆå‰ç«¯ï¼‰ â€” 2013 å¹´ 3 æœˆæ­£å¼å‘å¸ƒï¼› ~è·ä»Š 5 å¹´ã€‚\n\nè¿™ä¸ªæ–°æ¡†æ¶åœ¨æ¸²æŸ“ HTML æ–¹é¢çš„è¡¨ç°ååˆ†å‡ºè‰²ï¼Œè€Œä¸”ååˆ†åŸå§‹ï¼Œæ²¡æœ‰å¾ˆå¤šå…³äºã€å¦‚ä½•ã€å¼€å‘åº”ç”¨æ–¹é¢çš„å†…å®¹ã€‚åŒæ ·åœ°ï¼Œä»–ä»¬è¿˜å‘å¸ƒäº† Fluxï¼Œæœ€ç»ˆå‘å±•æˆäº† Reduxï¼ˆRedo-Fluxï¼‰ã€‚ä¸‹é¢æ˜¯ Flux ç½‘ç«™ä¸Š 2014/2015 å¹´çš„è§†é¢‘ã€‚[è¿™ä¸ªè§†é¢‘](https://youtu.be/nYkdrAPrdcw)ä¸»è¦è®²è§£ Flux å’Œ Reactã€‚\n\n## ğŸ...ä¸¤è€…ç»“åˆäº†\n\nRedux çš„å·¥ä½œæ–¹å¼æ˜¯å°†åº”ç”¨ä¸­æ‰€æœ‰çš„åŠ¨æ€ä¿¡æ¯å­˜å‚¨åˆ°ä¸€ä¸ª JavaScript å¯¹è±¡ä¸­ã€‚å½“åº”ç”¨ä¸­çš„æŸéƒ¨åˆ†éœ€è¦å±•ç¤ºæ•°æ®æ—¶ï¼Œå®ƒéœ€è¦å‘æœåŠ¡å™¨è¯·æ±‚ä¿¡æ¯ï¼Œæ›´æ–° JavaScript å¯¹è±¡ï¼Œæœ€åå°†æ•°æ®å±•ç¤ºç»™ç”¨æˆ·ã€‚å°†æ‰€æœ‰ä¿¡æ¯å­˜å‚¨åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œåº”ç”¨æ€»èƒ½æ­£ç¡®åœ°å±•ç¤ºä¿¡æ¯ã€‚å› æ­¤è§£å†³äº† Facebook çš„é€šçŸ¥é—®é¢˜ã€‚\n\nçªå¦‚å…¶æ¥åœ°ï¼ŒReact Redux æˆä¸ºäº†æ„å»ºåº”ç”¨çš„ä¸€ä¸ªæ–°æ¡†æ¶ã€‚Facebook åŠªåŠ›è§£å†³äº†ä»–ä»¬çš„é—®é¢˜ï¼Œè€Œä¸”å¤§å®¶éƒ½å¾ˆå¼€å¿ƒï¼Œå¯¹ä¸å¯¹ï¼Ÿ\n\nâœ‹**å¹¶ä¸ã€‚**\n\né—®é¢˜æ˜¯ï¼Œå¤§å®¶ï¼ˆåŒ…æ‹¬æˆ‘ï¼‰å¼€å§‹ä½¿ç”¨ä¸€ä¸ªå¯¹è±¡å­˜å‚¨æ‰€æœ‰çš„ä¿¡æ¯ â€” æœåŠ¡å™¨æä¾›çš„å…¨éƒ¨æ•°æ®ã€‚è¿™ç¡®å®å¯ä»¥ç»´æŠ¤æ‰€æ¬²æ•°æ®çš„æœ€æ–°çŠ¶æ€ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸‹é¢çš„ä¸‰ä¸ªé—®é¢˜ï¼š\n\n1. éœ€è¦èŠ±è´¹**å¤§é‡çš„**é¢å¤–ä»£ç ï¼Œè¿™å°†èŠ±è´¹ä½ çš„å¤§éƒ¨åˆ†**æ—¶é—´**ã€‚\n2. å°†æ‰€æœ‰ä»£ç æ”¾åˆ°ä¸€ä¸ªåœ°æ–¹ï¼Œä¹Ÿä¼šå¸¦æ¥ã€æ•°æ®è¿‡æœŸã€çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´åº”ç”¨ä¸­å¯èƒ½å‡ºç°æ¥è‡ªä¹‹å‰çŠ¶æ€çš„è¿‡æœŸæ•°æ®ã€‚\n3. å¯¹äºæ–°å¼€å‘è€…æ¥è¯´ï¼Œå­¦ä¹ æ›²çº¿é™¡å³­ï¼Œæ–°æ‰‹å‰ç«¯ web å¼€å‘äººå‘˜å¾ˆéš¾é‡‡ç”¨è¿™ç§æŠ€æœ¯ã€‚\n\nå¦‚æœæˆ‘ä»¬è®¾æ³•å°†ä¸€ä¸ªå‘ç”¨æˆ·å±•ç¤ºæ•°æ®çš„ç®€å•ä»»åŠ¡ï¼Œä» 2005 å¹´çš„ MVC æ¡†æ¶ä¸­çš„æ¨¡æ¿è¿ç§»åˆ°ç°åœ¨çš„å¤§å‹å‰ç«¯åº”ç”¨ä¸­ï¼Œé‚£ä¹ˆå‰ç«¯ä»£ç é‡æ˜¯åç«¯çš„ 10 å€ã€‚ä¾‹å¦‚æˆ‘æœ€è¿‘å¼€å‘äº†ä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼Œå¹¶ç”¨[WakaTime](https://wakatime.com/)æ¥æµ‹é‡æˆ‘ç¼–ç¨‹çš„æ—¶é—´ã€‚ç»“æœå¦‚ä¸‹ï¼š\n\n- React Redux å‰ç«¯ä»£ç åº“ â€” 32 å°æ—¶ã€‚\n- Express + Mongoose åç«¯ä»£ç åº“ â€” 4 å°æ—¶ã€‚\n\nè®¤çœŸçš„å—ï¼Ÿï¼ŸğŸ¤¯ æˆ‘åœ¨å‰ç«¯ä»£ç ä¸ŠèŠ±è´¹çš„æ—¶é—´æ˜¯åç«¯çš„ 8 å€ã€‚è®©æˆ‘ä»¬æ¥çœ‹çœ‹ä¸ºä»€ä¹ˆä¼šéœ€è¦è¿™ä¹ˆå¤šçš„ä»£ç ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨å‰ç«¯ä»£ç åº“ä¸­æ·»åŠ åŸºæœ¬çš„ä¿¡æ¯æŠ“å–è¯·æ±‚æ—¶ï¼Œéœ€è¦çš„æ­¥éª¤ï¼š\n\n```\nğŸš§ è­¦å‘Šï¼šä¸‹é¢çš„å†…å®¹æŠ€æœ¯æ€§è¾ƒå¼ºï¼Œè¯·è‡ªç”±é˜…è¯»ã€‚\n```\n\n1. åˆ›å»ºä¸€ä¸ªç»„ä»¶æ¥å±•ç¤ºç”¨æˆ·åˆ—è¡¨ï¼ˆæ²¡æœ‰ä»»ä½•é—®é¢˜ï¼‰ã€‚\n2. åˆ›å»ºä¸€ä¸ª`fetch`è¯·æ±‚ APIã€‚\n3. åœ¨ state ä¸­æ·»åŠ æ–°å­—æ®µã€‚\n4. æ·»åŠ ä¸€ä¸ªæ›´æ–° state ä¸­æ•°æ®çš„ actionã€‚\n5. æ·»åŠ ä¸€ä¸ª thunk æ–¹æ³•ï¼Œæ¥æ‰§è¡Œ `fetch` å¹¶ä¸”ç”¨ action æ¥æ›´æ–° stateã€‚\n6. ä½¿ç”¨ `connect()` å°† thunk æ–¹æ³•æ·»åŠ åˆ°ç»„ä»¶ä¸­ã€‚\n7. å†æ¬¡ä½¿ç”¨ `connect()`ï¼Œä» Redux state ä¸­æŠ½å–æ•°æ®ã€‚\n8. åœ¨ç»„ä»¶çš„å±æ€§ç±»å‹ä¸­å£°æ˜ thunk æ–¹æ³•å’ŒæŠ½å–çš„æ•°æ®ã€‚\n9. åœ¨ `componentDidMount()` ä¸­è°ƒç”¨ thunk æ–¹æ³•ã€‚\n10. æœ€ç»ˆåœ¨ DOM ä¸­æ¸²æŸ“æ•°æ®ã€‚\n\næˆ‘çš„è€å¤©é¹…...10 æ­¥...æƒ³å½“å¹´ä½¿ç”¨ Ruby on Rails çš„æ—¶å€™ï¼Œæˆ‘åªéœ€è¦æŠŠæ•°æ®ä¼ ç»™ HTML å°±å¯ä»¥äº†ã€‚æœ€åçš„ç»“æœæ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚æˆ‘æ„è¯†åˆ°æ˜¯æ—¶å€™åšå‡ºä¸€äº›æ”¹å˜äº†ã€‚\n\n## â˜ï¸ï¼Œä¸€ä¸ªæ–°æ–¹æ¡ˆ\n\nRedux åœ¨è§£å†³å‰ç«¯åº”ç”¨åŒæ­¥çš„é—®é¢˜ä¸Šååˆ†å‡ºè‰²ï¼Œä½†æ˜¯ä¹Ÿå¸¦æ¥ä¸€äº›å…¶ä»–çš„é—®é¢˜ï¼ˆåƒä¸Šé¢æåˆ°çš„ï¼‰ã€‚ä»”ç»†æ€è€ƒä¸€ä¸‹ï¼ŒRedux ç»™æˆ‘ä»¬å¸¦æ¥äº†ä»€ä¹ˆé¢å¤–çš„åŠŸèƒ½ï¼Ÿ\n\n\u003e æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬åªæ˜¯è§£å†³äº†ä¸€äº›ä¸é‡è¦çš„é—®é¢˜ã€‚\n\nFacebook ä¹Ÿå·²ç»æ³¨æ„åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå¹¶ä¸”å¼€å§‹ä½¿ç”¨ GraphQL è¿™æ ·çš„æ–°æŠ€æœ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚GraphQL åœ¨å½“æ—¶æ˜¯ä¸€ä¸ªæ—¶é«¦çš„è¯ï¼Œä½†æˆ‘ä¸æ¸…æ¥šå¤§å®¶æ˜¯å¦çœŸçš„çŸ¥é“å…¶ä¸­çš„**åŸå› **ã€‚\n\nGraphQL ä¸ Redux **å®Œå…¨**ä¸åŒã€‚Facebook å†ä¸€æ¬¡æ¨å‡ºäº†ä¸€æ¬¾ä»¤äººæƒŠå¹çš„äº§å“ï¼Œä½†æ˜¯æ²¡èƒ½è¡¨è¿°æ¸…æ¥šä¸ºä»€ä¹ˆè¿™æ¬¾äº§å“å¦‚æ­¤é‡è¦ï¼›æ‰€ä»¥æˆ‘éœ€è¦èŠ±è´¹å‡ åˆ†é’Ÿè¯´æ˜ä¸€ä¸‹ä¸Šä¸‹æ–‡ã€‚\n\n\u003e æ€»çš„æ¥è¯´ï¼ŒGraphQL æ˜¯æ±½è½¦è€Œ Redux æ˜¯é©¬ã€‚\n\n**ä»€ä¹ˆï¼ŸRedux æ€ä¹ˆä¼šæ˜¯é©¬ï¼Ÿ**\n\næˆ‘å°†ä¸¤ç§æŠ€æœ¯æè¿°æˆé©¬å’Œæ±½è½¦çš„åŸå› æ˜¯ï¼›ä½ ä¸å¯èƒ½è®¤ä¸ºé©¬å’Œæ±½è½¦æ˜¯ç›¸ä¼¼çš„ â€” ä¸€ä¸ªæ˜¯å››æ¡è…¿çš„åŠ¨ç‰©è€Œå¦ä¸€ä¸ªæ˜¯è£…ç€è½®å­çš„æœºå™¨ã€‚ç„¶è€Œä»–ä»¬çš„æœ€ç»ˆç›®çš„éƒ½ç›¸åŒï¼Œéƒ½æ˜¯å°†äººé€åˆ°ç»ˆç‚¹ã€‚æ±½è½¦åœ¨å…¬è·¯ä¸Šè¡Œé©¶å¹¶éœ€è¦ç‡ƒæ–™ï¼Œç„¶è€Œé©¬å¯ä»¥è·¨è¿‡å²©çŸ³ã€‚ä»–ä»¬å„è‡ªçš„ä¼˜åŠ¿ä¸åŒï¼Œé€‚ç”¨åœºæ™¯ä¹Ÿä¸åŒï¼Œä½†ä¸€èˆ¬æ¥è¯´ï¼›æ±½è½¦æ¯”é©¬è¦å¿«ã€‚\n\n**é‚£ä¹ˆï¼ŒGraphQL æ˜¯ä»€ä¹ˆ**\n\nå®˜æ–¹æ–‡æ¡£å°† GraphQL æè¿°ä¸ºã€GraphQL æ˜¯ API çš„æŸ¥è¯¢è¯­è¨€ã€ååˆ†æ¨¡ç³Šã€‚æœ¬è´¨ä¸Šè¯´ï¼Œè¿™é‡ŒæŸ¥è¯¢è¯­è¨€çš„æ„æ€æ˜¯å°†ä¸€ä¸ª API æ›¿æ¢æˆäº†ä¸Šç™¾ä¸ª HTTP ç«¯ç‚¹ã€‚å› ä¸ºè¿™ä¸ªæŠ€æœ¯ç›®å‰è¿˜ä¸æˆç†Ÿï¼Œæ–‡æ¡£å’Œæ”¯æŒè¿˜æ˜¯æœ‰äº›éš¾ç†è§£ï¼›ä¹Ÿå°±æ˜¯è¯´è¿˜æœ‰ä¸€å®šçš„å­¦ä¹ æ›²çº¿ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚\n\nGraphQL å°†ä¼šæ›¿ä»£ä¸‹é¢çš„ç«¯ç‚¹ï¼š\n\n- GET `/user/1234567890`\n- POST `/cars`\n- PUT `/examples/endpoints`\n\nè¿˜æœ‰åªæŸ¥è¯¢æ‰€éœ€ä¿¡æ¯çš„è‡ªå®šä¹‰çš„æŸ¥è¯¢ï¼Œä¾‹å¦‚ï¼š\n\n```\n{\n  user(id: \"1234567890\") {\n    name,\n    email\n  }\n}\n```\n\nå°†ä¼šè¿”å›ï¼š\n\n```\n{\n  \"user\": {\n    \"name\": \"Luke Skywalker\",\n    \"email\": \"luke@iamyourfather.com\"\n  }\n}\n```\n\nç­‰ä¸€ä¸‹ â€” è‡ªå®šä¹‰æŸ¥è¯¢... å²‚ä¸æ˜¯éœ€è¦èŠ±å¾ˆé•¿æ—¶é—´æ¥å®ç°ã€‚ ~é‚£åªæ˜¯ä½ çš„æƒ³æ³•\n\näº‹å®å¹¶éå¦‚æ­¤ã€‚åŸå› æ˜¯ï¼›å½“åªè¯·æ±‚éœ€è¦çš„æ•°æ®æ—¶ï¼Œä¸å†éœ€è¦ç”Ÿæˆé‚£ä¹ˆå¤šçš„æœåŠ¡å™¨è¯·æ±‚ï¼Œä¹Ÿå°±æ„å‘³ç€ä½ ä¸éœ€è¦å†™é‚£ä¹ˆå¤šçš„ä»£ç æ¥å¤„ç†è¿™äº›è¯·æ±‚ã€‚å› æ­¤ï¼Œæ‚¨æœ€ç»ˆä¼šåœ¨ä¸å¿…å®ç°çš„ä»£ç ä¸ŠèŠ‚çœå¤§é‡æ—¶é—´ã€‚\n\n**ğŸ¤·â€ ä½†è¿™å¦‚ä½•å–ä»£ Redux å‘¢ï¼Ÿ**\n\nåˆä¸€ä¸ªå¥½é—®é¢˜ï¼Œæ„Ÿè°¢æé—®ã€‚ç®€å•æ¥è¯´ï¼Œ**ä¸ä¼šå–ä»£** Reduxã€‚ç„¶è€Œå®ƒå´*é¼“åŠ±*ä½ *ä¸è¦*å°†æ‰€æœ‰ä¿¡æ¯å­˜åœ¨ Redux æä¾›çš„å¯¹è±¡ä¸­ã€‚è¿™æ˜¯å› ä¸ºè‡ªå®šä¹‰æŸ¥è¯¢ä¸æ˜¯ä¸ºæ•´ä¸ªåº”ç”¨è®¾è®¡çš„ï¼Œè€Œæ˜¯ä¸ºç‰¹å®šéƒ¨åˆ†è®¾è®¡çš„ã€‚åœ¨åº”ç”¨ç¨‹åºèŒƒå›´çš„æ•°æ®æºä¸­å­˜å‚¨ç‰¹å®šéƒ¨åˆ†çš„æ•°æ®æ˜¯ä¸€ç§åæ¨¡å¼ï¼ˆä¹Ÿä¸ç¬¦åˆé€»è¾‘ï¼‰ã€‚\n\n\u003e é€šè¿‡ GraphQLï¼Œå¯ä»¥å‡å°‘å¯¹ Redux çš„ä¾èµ–ï¼Œè¿›è€Œå‡å°‘å¤§é‡ä¸å¿…è¦çš„ä»£ç ã€‚\n\nè¿˜å€¼å¾—æ³¨æ„çš„æ˜¯ï¼›Redux å’Œ GraphQL å¯ä»¥åœ¨ä¸€ä¸ªåº”ç”¨ä¸­å…±å­˜ã€‚è¿™å¯¹äºç°æœ‰çš„ Redux åº”ç”¨ä¸­é›†æˆ GraphQL æ¥è¯´å¾ˆæœ‰å¸®åŠ©ã€‚ä¸‹é¢æ˜¯å…³äºå¦‚ä½•å®ç°çš„[æ–‡æ¡£](https://s3.amazonaws.com/apollo-docs-1.x/redux.html)ã€‚\n\nåœ¨è§£å†³å°é—®é¢˜æ—¶ï¼ŒRedux æˆä¸ºäº†ä¸€ä¸ªå¤‡é€‰é¡¹ã€‚ä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨å®ƒï¼Œä½†è¿™åŒæ—¶ä¼šå¢åŠ å¼€é”€å¹¶å¼•å…¥å…¶ä»–é—®é¢˜ï¼Œæˆ–è€…ä½ ä¹Ÿå¯ä»¥é€‰æ‹©ä½¿ç”¨å…¶ä»–æŠ€æœ¯ã€‚\n\n**å¥½çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬ç”¨ä»€ä¹ˆæŠ€æœ¯å‘¢ï¼Ÿ**\n\nå½“æ—¶ï¼ŒRedux æ˜¯è§£å†³é—®é¢˜çš„å¥½åŠæ³•ã€‚ä½†æ˜¯éšç€ Web å¼€å‘çš„å‘å±•çªé£çŒ›è¿›ï¼Œweb socket é¢†åŸŸä¹Ÿéšä¹‹ä¸æ–­å‘å±•ã€‚\n\nWeb socket æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯é—´å¼€æ”¾çš„è¿æ¥ï¼Œæ‰€ä»¥æœåŠ¡ç«¯å¯ä»¥é€šçŸ¥å®¢æˆ·ç«¯ä½•æ—¶è¿›è¡Œç‰¹å®šçš„æ›´æ–°ã€‚ä½ çŒœæ€ä¹ˆç€ï¼ŸGraphQL ä»¥è®¢é˜…çš„å½¢å¼ç›´æ¥æ”¯æŒ Web socketã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨è®¢é˜…æ¥æ›´æ–°æˆ‘ä»¬åº”ç”¨ä¸­å¸Œæœ›ä¿æŒåŒæ­¥çš„éƒ¨åˆ†ã€‚\n\nè¿™å…¶ä¸­æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼›ä¸åœ¨éœ€è¦å®¢æˆ·ç«¯æ¥é€šçŸ¥æˆ‘ä»¬æŸäº›ç»„ä»¶éœ€è¦æ›´æ–°ï¼ˆé€šè¿‡ Reduxï¼‰ï¼Œè€Œæ˜¯æˆ‘ä»¬çš„æœåŠ¡å™¨é€šçŸ¥å®¢æˆ·ç«¯æ¥æ›´æ–°æ•°æ®ã€‚è¿™ä¸¤ç§æ–¹å¼çš„ç»“æœæ˜¯ä¸€æ ·çš„ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ MongoDB å’Œ Mongoose å®ç° web socket æˆ–è®¢é˜…çš„ä¾‹å­ã€‚\n\n[A Node.js Perspective on MongoDB 3.6: Change Streams](http://thecodebarbarian.com/a-nodejs-perspective-on-mongodb-36-change-streams.html)\n\n[Mongoose v5.2.13: API docs](https://mongoosejs.com/docs/api.html#model_Model.watch)\n\n## ğŸš€ï¼Œæœªæ¥çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼\n\nGraphQL å·²ç»å¼€å‘äº†ä¸€æ®µæ—¶é—´ï¼Œä½†ç°åœ¨å¤„äºå¯ä»¥åœ¨ç”Ÿäº§ä¸­ä½¿ç”¨çš„é˜¶æ®µã€‚å¦ç™½çš„è¯´ï¼Œå®ƒçš„æ–‡æ¡£éå¸¸éš¾ä»¥ç†è§£ï¼Œéœ€è¦äº‹å…ˆäº†è§£ JavaScript ä»¥åŠæœåŠ¡å™¨çš„å·¥ä½œæ–¹å¼ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ è¿˜ä¸æ˜¯å¾ˆæ¸…æ¥š - è‡³å°‘ä½ çŸ¥é“ç›®æ ‡æ˜¯ä»€ä¹ˆã€‚è¿™æ˜¯ä¸€ä¸ªå¸¸ç”¨æ•™ç¨‹çš„[é“¾æ¥](https://graphql.org/learn/)ã€‚\n\nè¿˜æœ‰è®¸å¤šæœ‰ç”¨çš„åº“å¯ä»¥å¸®åŠ©ä½ å®Œæˆ GraphQL çš„é›†æˆå·¥ä½œã€‚åˆ«æ‹…å¿ƒï¼Œä½ ä¸å¿…ä¸€æ¬¡æ€§çš„å®Œæˆæ‰€æœ‰å·¥ä½œï¼Œè¿™äº›åº“å¯ä»¥å¸®åŠ©ä½ é€æ¸å®Œæˆè¿ç§»ã€‚[Apollo](https://www.apollographql.com/) æ˜¯åœ¨è¿™æ–¹ä¾¿åšçš„ç›¸å½“ä¸é”™çš„ä¸€å®¶å…¬å¸ã€‚\n\nå°±æ˜¯è¿™æ ·ã€‚æˆ‘å¸Œæœ›è¿™ç¯‡æ–‡ç« å¯¹äºä½ ç†è§£è¿™äº›å¤æ‚çš„æ¦‚å¿µæœ‰æ‰€å¸®åŠ©ã€‚\n\nå¦‚æœä½ å–œæ¬¢è¿™ç¯‡æ–‡ç« ï¼Œä½ å¯ä»¥**é¼“é¼“æŒ** â€” è¿™å¯¹æˆ‘æ¥è¯´å¾ˆé‡è¦ â€” æˆ–è€…å¦‚æœä½ æœ‰ä»»ä½•çš„é—®é¢˜ï¼Œæ¬¢è¿ç•™è¨€ï¼\n\nè°¢è°¢ï¼ğŸ™Œ\n\nä½ ä¹Ÿå¯ä»¥å…³æ³¨æˆ‘çš„[æ¨ç‰¹](https://twitter.com/jacrobsco) ğŸ¦‰ æˆ–è€…... çœ‹çœ‹æˆ‘å…¶ä»–çš„åšå®¢ï¼š\n\n- [Startup Productivity Guide 101](https://medium.com/@jackrobertscott/startup-productivity-guide-101-85afdcf463fc)\n- [How I Launched a Startup in 4 Days](https://medium.com/@jackrobertscott/startup-validation-done-right-6c7c62229e9)\n- [Getting Your First 100 Startup Customers](https://medium.com/@jackrobertscott/getting-your-first-100-startup-customers-8cafd0ee8e7d)\n\n* åŸæ–‡åœ°å€ï¼šhttps://hackernoon.com/goodbye-redux-26e6a27b3a0b\n* è¯‘æ–‡å‡ºè‡ªï¼šTWNTF\n* è¯‘è€…ï¼šYingjian Li\n"},{"key":"react-native-at-airbnb-4","content":"| date       | tag          |\n| ---------- | ------------ |\n| 2018-08-14 | React-Native |\n\n---\n\n# [ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š å¼ƒç”¨ React Native\n\n\u003e ç”±äºå¤§é‡çš„æŠ€æœ¯å’Œç»„ç»‡é—®é¢˜,æˆ‘ä»¬å°†å¼ƒç”¨ React Native,å¹¶ä¸”ä»Šåå°†ä½¿ç”¨ Native è¿›è¡Œå¼€å‘.\n\n_è¿™æ˜¯æˆ‘ä»¬ä»‹ç» React Native ç»éªŒå’Œ Airbnb mobile æœªæ¥è®¡åˆ’[ç³»åˆ—åšå®¢](https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c)çš„ç¬¬å››ç¯‡_.\n\nå°½ç®¡å·²ç»æœ‰è®¸å¤šå›¢é˜Ÿæ­£åœ¨ä½¿ç”¨æˆ–è®¡åˆ’ä½¿ç”¨ React Native è¿›è¡Œå¼€å‘, ä½†æ˜¯ä½¿ç”¨ React Native å´æ— æ³•æ‰“åˆ°æˆ‘ä»¬æœ€åˆçš„ç›®æ ‡.æ­¤å¤–,æˆ‘ä»¬è¿˜é‡åˆ°äº†è®¸å¤šæ— æ³•å…‹æœçš„[æŠ€æœ¯](https://medium.com/airbnb-engineering/react-native-at-airbnb-the-technology-dafd0b43838)å’Œ[ç»„ç»‡](https://medium.com/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88)æ–¹é¢çš„é—®é¢˜,ä½¿å¾— React Native çš„å¼€å‘å·¥ä½œå˜å¾—æ›´åŠ å›°éš¾.\n\nå› æ­¤,æˆ‘ä»¬å°†å¼ƒç”¨ React Native,å¹¶ä½¿ç”¨ Native å¼€å‘ç»§ç»­å‰è¿›.\n\n## æ— æ³•è¾¾åˆ°ç›®æ ‡\n\n### å¼€å‘é€Ÿåº¦\n\nå¦‚æœ React Native å¦‚é¢„æœŸä¸€æ ·å·¥ä½œ, å¼€å‘å°†ä¼šååˆ†è¿…é€Ÿ. ä½†æ˜¯å¤§é‡çš„[æŠ€æœ¯](https://medium.com/airbnb-engineering/react-native-at-airbnb-the-technology-dafd0b43838)å’Œ[ç»„ç»‡](https://medium.com/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88)æ–¹é¢çš„é—®é¢˜,ä½¿è®¸å¤šé¡¹ç›®äº§ç”Ÿäº†éé¢„æœŸçš„æ¨è¿Ÿ.\n\n### ä»£ç è´¨é‡\n\næœ€è¿‘, éšç€ React Native çš„ä¸æ–­æˆç†Ÿä»¥åŠç§¯ç´¯çš„ç»éªŒä¸æ–­å¢å¤š,æˆ‘ä»¬èƒ½å¤Ÿå®Œæˆä¸€äº›æ›¾ç»ä¸ç¡®å®šæ˜¯å¦å¯è¡Œçš„äº‹æƒ….æˆ‘ä»¬å®ç°äº†`å…±äº«å…ƒç´ è½¬æ¢(shared element transitions)`,`è§†å·®ç‰¹æ•ˆ(parallax)`ä»¥åŠæ‰å¸§çš„æ€§èƒ½ä¼˜åŒ–ç­‰. ç„¶è€Œ,æŸäº›æŠ€æœ¯é—®é¢˜(å¦‚åˆå§‹åŒ–å’Œå¼‚æ­¥æ¸²æŸ“ç­‰)å¯¼è‡´æŸäº›åŠŸèƒ½å¾ˆéš¾å®ç°,å†…å¤–éƒ¨èµ„æºçš„åŒ®ä¹ä¹Ÿå¢åŠ äº†å¼€å‘çš„éš¾åº¦.\n\n### ä¸€æ¬¡ç¼–ç åˆ°å¤„è¿è¡Œ\n\nè™½ç„¶ React Native çš„ç‰¹æ€§å‡ ä¹éƒ½æ˜¯è·¨å¹³å°çš„,æˆ‘ä»¬çš„ app ä¸­ä¹Ÿåªæœ‰å°éƒ¨åˆ†ä½¿ç”¨ React Ntive.æ­¤å¤–,è¿˜éœ€è¦å¤§é‡çš„æ¡¥æ¥åŸºç¡€è®¾æ–½æ¥ç¡®ä¿äº§å“å·¥ç¨‹å¸ˆèƒ½å¤Ÿé«˜æ•ˆåœ°å·¥ä½œ.ç»“æœå¯¼è‡´æˆ‘ä»¬éœ€è¦ç»´æŠ¤ä¸‰ä¸ªå¹³å°çš„ä»£ç .æˆ‘ä»¬ä¹Ÿè®¸å¯ä»¥åœ¨ mobile ç«¯å’Œ web ç«¯å¯ä»¥å…±äº«ä»£ç æˆ– npm åŒ…,ä½†å´æ²¡æœ‰æ‰¾åˆ°æ°å½“çš„å®ç°æ–¹å¼.\n\n### æå‡å¼€å‘ä½“éªŒ\n\nReact Native çš„å¼€å‘ä½“éªŒå‚å·®ä¸é½.åœ¨æŸäº›æ–¹é¢(å¦‚æ„å»ºæ—¶é—´)è¡¨ç°çš„å¾ˆå¥½.è€Œåœ¨å…¶ä»–æ–¹é¢(å¦‚è°ƒè¯•)åˆ™è¡¨ç°çš„å¾ˆç³Ÿç³•.å…·ä½“ç»†èŠ‚çš„ä»‹ç»åœ¨æœ¬ç³»åˆ—çš„ç¬¬äºŒéƒ¨åˆ†ä¸­.\n\n## å¼ƒç”¨è®¡åˆ’\n\nç”±äº React Native æ— æ³•å¸®åŠ©æˆ‘ä»¬è¾¾åˆ°ä¸€äº›ç‰¹å®šçš„ç›®æ ‡,æˆ‘ä»¬å†³å®šå¼ƒç”¨ React Native.æˆ‘ä»¬ç›®å‰æ­£åœ¨ä¸å›¢é˜Ÿä¸€èµ·åˆ¶å®šå¥å…¨çš„è¿‡æ¸¡è®¡åˆ’.æˆ‘ä»¬å·²ç»åœæ­¢äº†æ‰€æœ‰çš„ React Native æ–°åŠŸèƒ½çš„å¼€å‘,å¹¶ä¸”è®¡åˆ’åœ¨ä»Šå¹´å¹´åº•ä¹‹å‰æŠŠæœ€å¸¸ä½¿ç”¨çš„é¡µé¢è¿‡æ¸¡åˆ° native.è¿™ä¹Ÿå—ç›Šäºäº‹å…ˆè®¡åˆ’å¥½çš„é‡æ–°è®¾è®¡.æˆ‘ä»¬çš„ native åŸºç¡€è®¾æ–½å›¢é˜Ÿå°†ä¼šæŒç»­æ”¯æŒ React Native ç›´åˆ° 2018 å¹´.åœ¨ 2019 å¹´,æˆ‘ä»¬å°†é€æ¸å‡å°‘å¯¹ React Native çš„æ”¯æŒ,å¼€å§‹å‡å°‘ React Native çš„å¼€é”€,å¦‚å¯åŠ¨æ—¶çš„ runtime åˆå§‹åŒ–.\n\nåœ¨ Airbnb,æˆ‘ä»¬æ‹¥æŠ±å¼€æº.æˆ‘ä»¬ç§¯æåœ°ä½¿ç”¨å’Œè´¡çŒ®å…¨ä¸–ç•Œè®¸å¤šçš„å¼€æºé¡¹ç›®,è€Œä¸”ä¹Ÿå¼€æºäº†æˆ‘ä»¬ä¸€éƒ¨åˆ†çš„ React Native å·¥ä½œ.ç”±äºæˆ‘ä»¬ä¸å†ä¼šä½¿ç”¨ React Native,æˆ‘ä»¬ä¹Ÿæ— æ³•ç»§ç»­ç»´æŠ¤æˆ‘ä»¬çš„ React Native ä»“åº“å’Œç¤¾åŒº.è€ƒè™‘åˆ°ç¤¾åŒº,æˆ‘ä»¬å°†ä¼šå§æˆ‘ä»¬ React Native çš„å¼€æºå·¥ä½œè¿ç§»åˆ°[react-native-community](https://github.com/react-native-community),æˆ‘ä»¬å·²ç»å¼€å§‹ç€æ‰‹[react-native-maps](https://github.com/react-community/react-native-maps)çš„è¿ç§»å·¥ä½œäº†,åç»­è¿˜ä¼šç»§ç»­è¿ç§»[react-navigation](https://github.com/airbnb/native-navigation)å’Œ[lottie-react-native](https://github.com/airbnb/lottie-react-native/).\n\n## React Native å¹¶éä¸€æ— æ˜¯å¤„\n\nå°½ç®¡ React Native æ— æ³•æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚,ä½†æ˜¯ä½¿ç”¨è¿‡ React Native çš„å·¥ç¨‹å¸ˆé€šå¸¸éƒ½è®¤ä¸ºä½“éªŒä¸é”™.åœ¨è¿™äº›å·¥ç¨‹å¸ˆä¸­:\n\n- 60%è¡¨ç¤ºé¹…å¦¹å­å˜¤\n- 20%è®¤ä¸ºè¿˜ä¸é”™\n- 15%ç¨æœ‰ä¸æ»¡\n- 5%å¼ºçƒˆä¸æ»¡\n\n63%çš„å·¥ç¨‹è¡¨ç¤ºå¦‚æœæœ‰æœºä¼šçš„è¯è¿˜ä¼šé€‰æ‹© React Native,74%ä¼šè€ƒè™‘åœ¨æ–°é¡¹ç›®ä¸­ä½¿ç”¨ React Native.å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™äº›ç»“æœå­˜åœ¨å›ºæœ‰çš„é€‰æ‹©åå·®ï¼Œå› ä¸ºå®ƒåªé€‰æ‹©ä½¿ç”¨è¿‡ React Native çš„äººè¿›è¡Œè°ƒæŸ¥ã€‚\n\nè¿™äº›å·¥ç¨‹å¸ˆå†™äº† 80000 è¡Œäº§å“ä»£ç ,220 ä¸ªé¡µé¢ä»¥åŠ 40000 è¡Œ javascript åŸºç¡€è®¾æ–½.ä½œä¸ºå‚è€ƒ,åœ¨æ¯ä¸ª native å¹³å°ä¸Š,æˆ‘ä»¬æ‹¥æœ‰å¤§æ¦‚ 10 å€çš„ä»£ç é‡ä»¥åŠ 4 å€çš„é¡µé¢.\n\n## React Native æ­£åœ¨é€æ¸æˆç†Ÿ\n\nè¿™ä¸€ç³»åˆ—æ–‡ç« è¯´æ˜äº†æˆ‘ä»¬ç›®å‰çš„ React Native ç»å†.ä½†æ˜¯ Facebook å’Œå¹¿å¤§çš„ React Native ç¤¾åŒºæ­£ä¸“æ³¨äºä½¿ React Native èƒ½å¤§è§„æ¨¡åœ°åº”ç”¨åˆ°æ··åˆ App ä¸­.React Native æ­£ä»¥æœ€å¿«é€Ÿåº¦å‘å±•.å»å¹´ä¸€å…±æœ‰è¶…è¿‡ 2500 ä¸ªæäº¤,è€Œä¸” Facebook[åˆšåˆšå®£å¸ƒ](https://facebook.github.io/react-native/blog/2018/06/14/state-of-react-native-2018)ä»–ä»¬æ­£åœ¨è§£å†³æˆ‘ä»¬ç›´é¢çš„æŠ€æœ¯é—®é¢˜.å³ä½¿æˆ‘ä»¬ä¸åœ¨ä½¿ç”¨ React Native,æˆ‘ä»¬ä»ä¼šå…³æ³¨è¿™éƒ¨åˆ†å·¥ä½œ.\n\n## å†™åœ¨æœ€å\n\næˆ‘ä»¬æŠŠ React Native é›†æˆåˆ°äº†å¿«é€Ÿå¤§å‹ App ä¸­,å¹¶ä¸”æŒç»­å¿«é€Ÿçš„å¼€å‘.æˆ‘ä»¬é‡åˆ°çš„è®¸å¤šé—®é¢˜æ˜¯ç”±æˆ‘ä»¬é‡‡ç”¨çš„æ··åˆæ–¹æ¡ˆå¼•èµ·çš„.æˆ‘ä»¬çš„è§„æ¨¡å…è®¸æˆ‘ä»¬æ‰¿æ‹…å¹¶ä¸”è§£å†³è¿™äº›é—®é¢˜,ä½†å°å…¬å¸å¯èƒ½æ²¡æœ‰æ—¶é—´æ¥è§£å†³è¿™äº›é—®é¢˜.ä½¿ React Native ä¸ native æ— ç¼è¿æ¥æ˜¯æœ‰å¯èƒ½çš„ä½†æ˜¯ååˆ†å…·æœ‰æŒ‘æˆ˜æ€§.æ¯ä¸€ä¸ªä½¿ç”¨ React Native çš„å…¬å¸éƒ½ä¼šæœ‰è‡ªå·±ç‹¬ç‰¹çš„ç»å†(å›¢é˜Ÿæ„æˆ,App,äº§å“éœ€æ±‚å’Œ React Native æˆç†Ÿåº¦ç­‰).\nå½“æŠŠè¿­ä»£é€Ÿåº¦,è´¨é‡,å¼€å‘ä½“éªŒç­‰ä¸€ç³»åˆ—å› ç´ ç»¼åˆèµ·æ¥è€ƒè™‘ React Native æ˜¯å¦è¾¾åˆ°æˆ–è¶…è¿‡äº†æˆ‘ä»¬çš„ç›®æ ‡å’Œé¢„æœŸæ—¶,å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ„Ÿè§‰åƒæ˜¯åœ¨é¢ è¦†ç§»åŠ¨å¼€å‘çš„è¾¹ç¼˜.å³ä½¿è¿™ç§ç»å†æ˜¯æŒ¯å¥‹äººå¿ƒçš„,å½“æˆ‘ä»¬åœ¨å¹³è¡¡å¥½å¤„å’Œç—›ç‚¹,ä»¥åŠç›®å‰å›¢é˜Ÿçš„éœ€æ±‚å’Œèµ„æºæ—¶,æˆ‘ä»¬è®¤ä¸ºæˆ‘ä»¬ä¸å†éœ€è¦ React Native.\n\næ˜¯å¦ä½¿ç”¨ä¸€ä¸ªæ–°å¹³å°æ˜¯ä¸€ä¸ªé‡å¤§çš„å†³å®š,è€Œä¸”å®Œå…¨å–å†³äºä½ çš„å›¢é˜Ÿæƒ…å†µ.æˆ‘ä»¬çš„ç»å†å’Œé€€å‡ºçš„åŸå› ä¹Ÿè®¸å¹¶ä¸é€‚ç”¨äºä½ çš„å›¢é˜Ÿ.äº‹å®ä¸Š,[è®¸å¤šå…¬å¸](https://instagram-engineering.com/react-native-at-instagram-dd828a9a90c7)è¿˜åœ¨ç»§ç»­æˆåŠŸåœ°ä½¿ç”¨ React Native,è€Œä¸” React Native å¯¹è®¸å¤šå…¶ä»–å…¬å¸è€Œè¨€å¯èƒ½ä»ç„¶æ˜¯æœ€ä½³é€‰æ‹©.\n\nå°½ç®¡æˆ‘ä»¬ä»æ¥æ²¡æœ‰åœæ­¢è¿‡ native çš„ç ”å‘,å¼ƒç”¨ React Native é‡Šæ”¾äº†è®¸å¤šèµ„æº,å¯ä»¥ä½¿ native å‘å±•çš„æ›´å¥½.ä¸‹ä¸€ç¯‡å°†ä»‹ç»æˆ‘ä»¬ native çš„æ–°è®¡åˆ’.\n\n_è¿™æ˜¯ Airbnb å…³äº React Native ç»éªŒåˆ†äº«å’Œç§»åŠ¨ç«¯æœªæ¥è®¡åˆ’ç³»åˆ—æ–‡ç« çš„ç¬¬å››ç¯‡._\n\n[ç¬¬ä¸€ç¯‡: React Native at Airbnb](../react-native-at-airbnb-1)\n\n[ç¬¬äºŒç¯‡: The Technology](../react-native-at-airbnb-2)\n\n[ç¬¬ä¸‰ç¯‡: Building a Cross-Platform Mobile Team](../react-native-at-airbnb-3)\n\n[ç¬¬å››ç¯‡: Making a Decision on React Native](../react-native-at-airbnb-4)\n\n[ç¬¬äº”ç¯‡: What's Next for Mobile](../react-native-at-airbnb-5)\n\n- åŸæ–‡åœ°å€ï¼šhttps://medium.com/airbnb-engineering/sunsetting-react-native-1868ba28e30a\n- è¯‘æ–‡å‡ºè‡ªï¼šTWNTF\n- è¯‘è€…ï¼šYingjian Li\n"},{"key":"react-native-at-airbnb-5","content":"| date       | tag          |\n| ---------- | ------------ |\n| 2018-08-11 | React-Native |\n\n---\n\n# [ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š ç§»åŠ¨ç«¯å‘å±•è®¡åˆ’\n\n\u003e æ•´è£…å¾…å‘,é‡å›åŸç”Ÿ\n\n_è¿™æ˜¯æˆ‘ä»¬ä»‹ç» React Native ç»éªŒå’Œ Airbnb mobile æœªæ¥è®¡åˆ’[ç³»åˆ—åšå®¢](https://medium.com/airbnb-engineering/react-native-at-airbnb-f95aa460be1c)çš„ç¬¬äº”ç¯‡_\n\n## æ¿€åŠ¨äººå¿ƒçš„æ—¶åˆ»å³å°†æ¥ä¸´\n\nè™½ç„¶åœ¨ä½¿ç”¨ React Native å¼€å‘,ä½†æ˜¯æˆ‘ä»¬ä¹Ÿä¸€ç›´åœ¨ç§¯ç´¯åŸç”Ÿå¼€å‘çš„ç»éªŒ.ç°åœ¨æˆ‘ä»¬å·²ç»ä¸€ç³»åˆ—æ­£åœ¨è¿›è¡Œä¸­æˆ–å·²å®Œæˆçš„é¡¹ç›®.å…¶ä¸­,éƒ¨åˆ†é¡¹ç›®æ˜¯å—åˆ° React Native ç»éªŒå’Œæœ€ä½³å®è·µçš„å¯å‘è€Œå®Œæˆçš„.\n\n### æœåŠ¡å™¨ç«¯æ¸²æŸ“\n\nå°½ç®¡ä¸å†ä½¿ç”¨ React Native, æˆ‘ä»¬ä»ç„¶ååˆ†é‡è§†åªå†™ä¸€æ¬¡äº§å“ä»£ç çš„ä»·å€¼. æˆ‘ä»¬ä»ç„¶é«˜åº¦ä¾èµ–æˆ‘ä»¬çš„ç»Ÿä¸€è®¾è®¡è¯­è¨€ç³»ç»Ÿ, ä½¿è®¸å¤š Android å’Œ iOS çš„é¡µé¢çœ‹èµ·æ¥å®Œå…¨ä¸€æ ·.\n\nè®¸å¤šå›¢é˜Ÿå·²ç»å°è¯•äº†å¼ºå¤§çš„æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„æ¡†æ¶,å¹¶ä¸”è¾¾æˆä¸€è‡´.åœ¨è¿™äº›æ¡†æ¶ä¸­,æœåŠ¡å™¨å°†æè¿°ç»„ä»¶æ¸²æŸ“,é¡µé¢é…ç½®å’Œç›¸å…³æ“ä½œçš„ä¿¡æ¯å‘é€ç»™ç§»åŠ¨è®¾å¤‡.ä¸åŒçš„ç§»åŠ¨å¹³å°è·å–åˆ°æ•°æ®åä½¿ç”¨ DLS ç»„ä»¶æ¸²æŸ“åŸç”Ÿé¡µé¢æˆ–è€…æ•´ä¸ªæµç¨‹.\n\nå¤§è§„æ¨¡æœåŠ¡å™¨ç«¯æ¸²æŸ“ä¹Ÿå­˜åœ¨ç€ä¸€äº›æŒ‘æˆ˜. ä¸‹é¢æ˜¯æˆ‘ä»¬æ­£åœ¨è§£å†³çš„ä¸€äº›é—®é¢˜:\n\n- å®‰å…¨å‡çº§ç»„ä»¶å®šä¹‰çš„åŒæ—¶ç»´æŠ¤å‘ä¸‹å…¼å®¹æ€§.\n- è·¨å¹³å°å…±äº«ç»„ä»¶çš„ç±»å‹å®šä¹‰.\n- åœ¨è¿è¡Œæ—¶çš„äº‹ä»¶å“åº”,å¦‚ç‚¹å‡»æŒ‰é’®æˆ–ç”¨æˆ·è¾“å…¥\n- å¤šä¸ª JSON é©±åŠ¨é¡µé¢é—´è·³è½¬çš„åŒæ—¶,ç»´æŠ¤å†…éƒ¨çŠ¶æ€.\n- æ„å»ºæ—¶æ²¡æœ‰å®ç°çš„è‡ªå®šä¹‰ç»„ä»¶çš„æ¸²æŸ“.æˆ‘ä»¬æ­£åœ¨å°è¯•ä½¿ç”¨[Lona](https://github.com/airbnb/Lona/)è§£å†³.\n\næœåŠ¡å™¨ç«¯æ¸²æŸ“æ¡†æ¶ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ›´æ–¹ä¾¿çš„è¿›è¡Œè¯•éªŒä»¥åŠçƒ­æ›´æ–°,ä¸ºæˆ‘ä»¬æä¾›äº†å·¨å¤§çš„ä»·å€¼.\n\n### Epoxy ç»„ä»¶\n\nåœ¨ 2016 å¹´,æˆ‘ä»¬å¼€æºäº† Android çš„[Epoxy](https://github.com/airbnb/epoxy).Epoxy å¯ä»¥å®ç°ç®€å•çš„å¼‚æ„`RecyclerViews`, `UICollectionViews`å’Œ`UITableviews`. å¦‚ä»Šå¤§å¤šæ•°çš„æ–°é¡µé¢éƒ½ä½¿ç”¨ Epoxy. è¿™ä½¿å¾—æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ªé¡µé¢åˆ†è§£æˆç‹¬ç«‹çš„ç»„ä»¶,è¿›è€Œå®ç°æ‡’åŠ è½½. è€Œä¸”åœ¨ iOS å’Œ Android ä¸Šå‡å¯ä½¿ç”¨.\niOS ç«¯ç¤ºä¾‹ä»£ç :\n\n```swift\nBasicRow.epoxyModel(\n  content: BasicRow.Content(\n    titleText: \"Settings\",\n    subtitleText: \"Optional subtitle\"),\n  style: .standard,\n  dataID: \"settings\",\n  selectionHandler: { [weak self] _, _, _ in\n    self?.navigate(to: .settings)\n  })\n```\n\nåœ¨ Android ä¸Š,æˆ‘ä»¬åˆ©ç”¨[DSLs in Kotlin](https://kotlinlang.org/docs/reference/type-safe-builders.html),ä½¿å¾—ç»„ä»¶çš„å®ç°å˜å¾—ç®€å•è€Œä¸”ç±»å‹å®‰å…¨:\n\n```kotlin\nbasicRow {\n id(\"settings\")\n title(R.string.settings)\n subtitleText(R.string.settings_subtitle)\n onClickListener { navigateTo(SETTINGS) }\n}\n```\n\n### Epoxy ä¸­çš„ diffing\n\nåœ¨ React ä¸­,[render](https://reactjs.org/tutorial/tutorial.html#what-is-react)ä¼šè¿”å›ä¸€ä¸ªç»„ä»¶çš„åˆ—è¡¨.React æ€§èƒ½çš„å…³é”®æ˜¯ç»„ä»¶ä»…ä»…æ˜¯çœŸå® DOM çš„æ•°æ®æ¨¡å‹.å¯¹ç»„ä»¶æ ‘è¿›è¡Œ diff,ç„¶ååªæ›´æ–°æ”¹åŠ¨éƒ¨åˆ†.æˆ‘ä»¬åœ¨ Epoxy ä¸­å¼•å…¥äº†ç›¸ä¼¼çš„æ¦‚å¿µ.åœ¨ Epoxy ä¸­,åœ¨[buildModels](https://reactjs.org/tutorial/tutorial.html#what-is-react)ä¸­å£°æ˜æ•´ä¸ªé¡µé¢çš„æ¨¡å‹,å†åŠ ä¸Š Kotlin DSL,ä½¿å¾—å®ƒåœ¨æ¦‚å¿µä¸Šä¸ React ååˆ†ç›¸ä¼¼,ç¤ºä¾‹ä»£ç :\n\n```kotlin\noverride fun EpoxyController.buildModels() {\n  header {\n    id(\"marquee\")\n    title(R.string.edit_profile)\n  }\n  inputRow {\n    id(\"first name\")\n    title(R.string.first_name)\n    text(firstName)\n    onChange {\n      firstName = it\n      requestModelBuild()\n    }\n  }\n  // å…¶ä½™çš„æ¨¡å‹æ”¾åœ¨è¿™é‡Œ\n}\n```\n\næ¯å½“ä½ çš„æ•°æ®å‘ç”Ÿå˜åŒ–,è°ƒç”¨`requestModelBuild()`å°†ä¼šè°ƒç”¨æœ€ä½³çš„`RecyclerView`æ¥é‡æ–°æ¸²æŸ“ä½ çš„é¡µé¢.\n\niOS ç«¯çš„ç¤ºä¾‹ä»£ç :\n\n```swift\noverride func itemModel(forDataID dataID: DemoDataID) -\u003e EpoxyableModel? {\n  switch dataID {\n  case .header:\n    return DocumentMarquee.epoxyModel(\n      content: DocumentMarquee.Content(titleText: \"Edit Profile\"),\n      style: .standard,\n      dataID: DemoDataID.header)\n  case .inputRow:\n    return InputRow.epoxyModel(\n      content: InputRow.Content(\n        titleText: \"First name\",\n        inputText: firstName)\n      style: .standard,\n      dataID: DemoDataID.inputRow,\n      behaviorSetter: { [weak self] view, content, dataID in\n        view.textDidChangeBlock = { _, inputText in\n          self?.firstName = inputText\n          self?.rebuildItemModel(forDataID: .inputRow)\n        }\n      })\n  }\n}\n```\n\n### ä¸€ä¸ªå…¨æ–°çš„ Android äº§å“æ¡†æ¶(MvRx)\n\nåœ¨è¿‘æœŸå¼€å‘ä¸­,æœ€ä»¤äººå…´å¥‹çš„æ˜¯ä¸€ä¸ªæ­£åœ¨å¼€å‘çš„æ–°æ¡†æ¶,æˆ‘ä»¬å†…éƒ¨å«åš MvRx.MvRx ç»“åˆäº†`Epoxy`,[`Jetpack`](https://developer.android.com/jetpack/),[`RxJava`](https://github.com/ReactiveX/RxJava)å’Œ`Kotlin`çš„ä¼˜ç‚¹,ä»¥åŠä¸€äº› React ä¸­çš„è§„åˆ™,ä½¿å¾—æ„å»ºæ–°é¡µé¢å˜å¾—æ›´åŠ ç®€å•,æ›´åŠ æµç•….å®ƒæ˜¯ç”±å¸¸è§çš„å¼€å‘æ¨¡å¼ä»¥åŠ React ä¸­çš„ä¼˜ç‚¹å¼€å‘çš„,æ˜¯ä¸€ä¸ª\"å›ºå®š\"([opinionated](https://stackoverflow.com/questions/802050/what-is-opinionated-software))ä½†çµæ´»çš„æ¡†æ¶.å®ƒä¹Ÿæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå‡ ä¹æ‰€æœ‰ä¸œè¥¿éƒ½ä¸åœ¨ä¸»çº¿ç¨‹è¿è¡Œï¼Œè¿™ä½¿å¾—æ»šåŠ¨å’ŒåŠ¨ç”»æ„Ÿè§‰æµç•….\n\nåˆ°ç›®å‰ä¸ºæ­¢,å®ƒå·²ç»åº”ç”¨åˆ°äº†å¤§é‡çš„é¡µé¢ä¸­,å¹¶ä¸”å‡ ä¹å®Œå…¨ä¸éœ€è¦å¤„ç†ç”Ÿå‘½å‘¨æœŸ.æˆ‘ä»¬ç›®å‰æ­£åœ¨ä¸€äº› Android äº§å“ä¸Šè¿›è¡Œè¯•éªŒ,å¹¶ä¸”å¦‚æœä¸€åˆ‡é¡ºåˆ©çš„è¯ä¼šå°†ä»–å¼€æº.ä¸‹é¢æ˜¯åˆ›å»ºä¸€ä¸ªå‘å‡ºç½‘ç»œè¯·æ±‚çš„åŠŸèƒ½é¡µé¢æ‰€éœ€çš„å…¨éƒ¨ä»£ç :\n\n```Kotlin\ndata class SimpleDemoState(val listing: Async\u003cListing\u003e = Uninitialized)\n\nclass SimpleDemoViewModel(override val initialState: SimpleDemoState) : MvRxViewModel\u003cSimpleDemoState\u003e() {\n    init {\n        fetchListing()\n    }\n\n    private fun fetchListing() {\n        // This automatically fires off a request and maps its response to Async\u003cListing\u003e\n        // which is a sealed class and can be: Unitialized, Loading, Success, and Fail.\n        // No need for separate success and failure handlers!\n        // This request is also lifecycle-aware. It will survive configuration changes and\n        // will never be delivered after onStop.\n        ListingRequest.forListingId(12345L).execute { copy(listing = it) }\n    }\n}\n\nclass SimpleDemoFragment : MvRxFragment() {\n    // This will automatically subscribe to the ViewModel state and rebuild the epoxy models\n    // any time anything changes. Similar to how React's render method runs for every change of\n    // props or state.\n    private val viewModel by fragmentViewModel(SimpleDemoViewModel::class)\n\n    override fun EpoxyController.buildModels() {\n        val (state) = withState(viewModel)\n        if (state.listing is Loading) {\n            loader()\n            return\n        }\n        // These Epoxy models are not the views themself so calling buildModels is cheap. RecyclerView\n        // diffing will be automaticaly done and only the models that changed will re-render.\n        documentMarquee {\n            title(state.listing().name)\n        }\n        // Put the rest of your Epoxy models here...\n    }\n\n    override fun EpoxyController.buildFooter() = fixedActionFooter {\n        val (state) = withState(viewModel)\n        buttonLoading(state is Loading)\n        buttonText(state.listing().price)\n        buttonOnClickListener { _ -\u003e }\n    }\n}\n```\n\nMvRx å…·æœ‰ç®€å•çš„æ„é€ ,ç”¨äºå¤„ç† Fragment å‚æ•°,è·¨è¿›ç¨‹é‡å¯æ—¶`savedInstanceState`çš„æŒä¹…åŒ–,TTI è¿½è¸ªä»¥åŠä¸€äº›å…¶ä»–çš„åŠŸèƒ½.\n\næˆ‘ä»¬ä¹Ÿæ­£åœ¨å¼€å‘ä¸€ä¸ªç›¸ä¼¼çš„ iOS æ¡†æ¶,è¯¥æ¡†æ¶ç›®å‰æ­£å¤„äºæ—©æœŸæµ‹è¯•é˜¶æ®µ.\n\nå°½ç®¡æˆ‘ä»¬å·²ç»å¯¹ç›®å‰æ‰€å–å¾—çš„è¿›å±•ååˆ†æ»¡æ„äº†,è¿˜æ˜¯å¸Œæœ›å¾ˆå¿«å¯ä»¥å¬åˆ°æ›´å¤šç›¸å…³çš„æ¶ˆæ¯.\n\n### è¿­ä»£é€Ÿåº¦\n\nå½“ä» React Native åˆ‡æ¢å›åŸç”Ÿæ—¶,è¿­ä»£é€Ÿåº¦æ˜¯æ˜¾è€Œæ˜“è§çš„é—®é¢˜.æµ‹è¯•æ”¹åŠ¨çš„æ—¶é—´ä»åŸæœ¬åªéœ€è¦ 1~2 ç§’,å˜æˆå¯èƒ½éœ€è¦ç­‰å¾…å°†è¿‘ 15 åˆ†é’Ÿæ˜¯ä¸å¯æ¥å—çš„.å¹¸è¿çš„æ˜¯,æˆ‘ä»¬èƒ½å¤Ÿä»ä¸€äº›æ–¹é¢ç¼“è§£è¿™ä¸€ç°è±¡.\n\næˆ‘ä»¬åœ¨ Android å’Œ iOS ä¸Šæ„å»ºçš„åŸºç¡€è®¾æ–½èƒ½å¤Ÿæ ¹æ®åŠŸèƒ½æ¨¡å—ç¼–è¯‘å¯åŠ¨å™¨å’Œéƒ¨åˆ† app.\n\nåœ¨ Android ç«¯ä½¿ç”¨äº†[gradle äº§å“é£æ ¼](https://developer.android.com/studio/build/build-variants#product-flavors), æˆ‘ä»¬çš„ gradle æ¨¡å—å¦‚ä¸‹å›¾æ‰€ç¤º:\n\n![](/static/gradle%20modules.png)\n\næ–°çš„é—´æ¥å±‚ä½¿å¾—å·¥ç¨‹å¸ˆå¯ä»¥ app çš„åˆ‡ç‰‡ä¸Šè¿›è¡Œå¼€å‘.å†é…åˆ[Intellij module unloadinig](https://blog.jetbrains.com/idea/2017/06/intellij-idea-2017-2-eap-introduces-unloaded-modules/),å¯ä»¥åœ¨ Macbook Pro ä¸ŠåŠ¨æ€æé«˜æ„å»ºå’Œ IDE çš„æ€§èƒ½.\n\næˆ‘ä»¬å·²ç»æ„å»ºäº†ç”¨äºåˆ›å»ºæ–°çš„æµ‹è¯• flavor çš„è„šæœ¬,å¹¶ä¸”åœ¨çŸ­çŸ­å‡ ä¸ªè¶Šèƒ½,æˆ‘ä»¬å·²ç»å®Œæˆäº†è¶…è¿‡ 20 ä¸ª.ä½¿ç”¨è¿™äº›æ–°é£æ ¼å¯ä»¥ä½¿å¼€å‘æ„å»ºæé€Ÿ 2.5 å€,å¹¶ä¸”è¶…è¿‡ 5 åˆ†é’Ÿçš„æ¯”ä¾‹ä¸‹é™äº† 15 å€.\n\nä½œä¸ºå‚è€ƒ,è¿™æ˜¯ç”¨äºåŠ¨æ€ç”Ÿæˆå…·æœ‰æ ¹ä¾èµ–æ€§æ¨¡å—äº§å“é£æ ¼çš„[gradle ä»£ç å—](https://gist.github.com/gpeal/d68e4fc1357ef9d126f25afd9ab4eee2).\n\nç›¸ä¼¼åœ°,iOS ä¸Šçš„æ¨¡å—å¦‚ä¸‹å›¾æ‰€ç¤º:\n\n![](/static/iOS%20modules.png)\n\nåŒæ ·ç³»ç»Ÿçš„æ„å»ºé€Ÿåº¦ä¼šæå‡ 3-8 å€.\n\n## ç»“è®º\n\nå¾ˆé«˜å…´èƒ½å¤Ÿæˆä¸ºä¸€å®¶ä¸æ€•å°è¯•æ–°æŠ€æœ¯ä½†åˆåŠªåŠ›ä¿æŒé«˜è´¨é‡,é«˜é€Ÿåº¦å’Œå¼€å‘ä½“éªŒçš„å…¬å¸.æœ€å,React Native æ˜¯å‘å¸ƒåŠŸèƒ½,ä¸ºæˆ‘ä»¬æä¾›äº†æ–°çš„ç§»åŠ¨å¼€å‘æ€è·¯çš„é‡è¦å·¥å…·.å¦‚æœè¿™å¬èµ·æ¥åƒæ˜¯æ‚¨æƒ³å‚ä¸çš„æ—…ç¨‹ï¼Œ[è¯·å‘Šè¯‰æˆ‘ä»¬](https://www.airbnb.com/careers/departments/engineering)ï¼\n\n_è¿™æ˜¯ Airbnb å…³äº React Native ç»éªŒåˆ†äº«å’Œç§»åŠ¨ç«¯æœªæ¥è®¡åˆ’ç³»åˆ—æ–‡ç« çš„ç¬¬äº”ç¯‡._\n\n[ç¬¬ä¸€ç¯‡: React Native at Airbnb](../react-native-at-airbnb-1)\n\n[ç¬¬äºŒç¯‡: The Technology](../react-native-at-airbnb-2)\n\n[ç¬¬ä¸‰ç¯‡: Building a Cross-Platform Mobile Team](../react-native-at-airbnb-3)\n\n[ç¬¬å››ç¯‡: Making a Decision on React Native](../react-native-at-airbnb-4)\n\n[ç¬¬äº”ç¯‡: What's Next for Mobile](../react-native-at-airbnb-5)\n\n- åŸæ–‡åœ°å€ï¼šhttps://medium.com/airbnb-engineering/whats-next-for-mobile-at-airbnb-5e71618576ab\n- è¯‘æ–‡å‡ºè‡ªï¼šTWNTF\n- è¯‘è€…ï¼šYingjian Li\n"},{"key":"redux-vs-context-api","content":"| date       | tag         |\n| ---------- | ----------- |\n| 2018-07-26 | React,Redux |\n\n---\n\n# å¯¹æ¯” Redux å’Œ Context API\n\n![](/static/context-vs-redux@2x.png)\n\nReact åœ¨ 16.3 ç‰ˆæœ¬ä¸­æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ Context APIï¼Œ ã€Œæ–°ã€çš„æ„æ€æ˜¯æŒ‡ä¹‹å‰çš„ Context API æ˜¯ä¸€ä¸ªéšè—çš„åŠŸèƒ½ã€‚ ç”±äºåœ¨å®˜æ–¹æ–‡æ¡£ä¸­å¹¶ä¸é¼“åŠ±ä½¿ç”¨ Context APIï¼Œ å¤§å¤šæ•°äººéƒ½é¿å…ä½¿ç”¨å®ƒï¼Œç”šè‡³éƒ½ä¸çŸ¥é“å®ƒçš„å­˜åœ¨ã€‚\n\nè€Œç°åœ¨ Context API å˜æˆäº† React ä¸­çš„ä¸€ç­‰å…¬æ°‘ï¼Œ å¹¶ä¸”å¼€æ”¾ç»™äº†æ‰€æœ‰äºº(æ¥è‡ªå®˜æ–¹æ¨å¹¿)ã€‚\n\nReact 16.3 ä¸€å‘å¸ƒï¼Œ ç½‘ä¸Šçš„å¾ˆå¤šæ–‡ç« å°±å› æ–° Context API çš„å‡ºç°ï¼Œå®£å¸ƒã€ŒRedux å·²æ­»ã€ã€‚ ç„¶è€Œå¦‚æœä½ é—®è¿‡ Reduxï¼Œæˆ‘ç›¸ä¿¡å®ƒä¼šå›ç­”ä½ :ã€Œé‚£äº›è¨€è®ºéƒ½æ˜¯[å¤¸å¤§å…¶è¯](https://blog.isquaredsoftware.com/2018/03/redux-not-dead-yet/)ã€ã€‚\n\næœ¬æ–‡å°†ä¼šä»‹ç»æ–° Context API æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œ å®ƒä¸ Redux çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œ ä»€ä¹ˆæ—¶å€™åº”è¯¥é€‰ç”¨ Contextï¼Œä»¥åŠä¸ºä»€ä¹ˆ Context å¹¶ä¸èƒ½å®Œå…¨å–ä»£ Reduxã€‚\n\nå¦‚æœä½ åªæƒ³å¤§è‡´äº†è§£ Contextï¼Œ å¯ä»¥ç›´æ¥[æŸ¥çœ‹](#how-to-use-context-api)ã€‚\n\n## ä¸€ä¸ªç®€å•çš„ React ä¾‹å­\n\nç°åœ¨ï¼Œå‡è®¾ä½ å·²ç»æ¸…æ¥š React çš„åŸºç¡€æ¦‚å¿µ(props \u0026 state)ï¼Œ å¦‚æœä½ è¿˜ä¸æ¸…æ¥šï¼Œ è¿™é‡Œæœ‰ä¸€ä¸ªå…è´¹çš„äº”å¤©è¯¾ç¨‹å¯ä»¥å¸®åŠ©ä½ [å­¦ä¹  React](https://daveceddia.com/pure-react-email-course)ã€‚\n\nè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªå¤§å¤šæ•°äººä¼šé€‰æ‹©ä½¿ç”¨ Redux çš„ä¾‹å­.æˆ‘ä»¬é¦–å…ˆä»ç®€å•çš„çº¯ React ç‰ˆæœ¬å¼€å§‹ï¼Œå†çœ‹ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ Reduxï¼Œæœ€åæ˜¯ Contextã€‚\n\n![](/static/example.png)\n\nè¿™ä¸ª app åœ¨ä¸¤å¤„åœ°æ–¹æ˜¾ç¤ºç”¨æˆ·çš„ä¿¡æ¯:ä¸€ä¸ªæ˜¯åœ¨å¯¼èˆªæ çš„å³ä¸Šè§’ï¼Œä¸€ä¸ªæ˜¯åœ¨ä¸»è¦å†…å®¹å·¦ä¾§çš„ä¾§æ ã€‚\n\n(ä½ ä¹Ÿè®¸æ³¨æ„åˆ°äº†ï¼Œ è¿™çœ‹èµ·æ¥å¾ˆåƒ Twitterã€‚è¿™å¹¶éå¶ç„¶ï¼ ç£¨ç‚¼ React æŠ€æœ¯æœ€å¥½çš„æ–¹æ³•å°±æ˜¯[æ¨¡ä»¿](https://daveceddia.com/learn-react-with-copywork/))ã€‚\n\nç»„ä»¶ç»“æ„å¦‚ä¸‹å›¾:\n\n![](/static/component-structure.png)\n\nå¦‚æœåªä½¿ç”¨ React(æ™®é€šçš„ props)ï¼Œ éœ€è¦æŠŠç”¨æˆ·ä¿¡æ¯å­˜åœ¨ç»„ä»¶æ ‘ä¸­è¶³å¤Ÿé«˜çš„ä½ç½®ï¼Œ ä»¥ä¾¿äºæŠŠ props å‘ä¸‹ä¼ é€’åˆ°éœ€è¦çš„ç»„ä»¶ä¸­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”¨æˆ·ä¿¡æ¯åªèƒ½å­˜å‚¨åœ¨`App`ä¸­ã€‚\n\nç„¶åï¼Œä¸ºäº†å°† props ä¼ é€’åˆ°éœ€è¦çš„ç»„ä»¶ä¸­ï¼ŒApp éœ€è¦æŠŠ props å…ˆä¼ é€’åˆ° Nav å’Œ Body ä¸­ã€‚ ç„¶åéœ€è¦å†ä¾æ¬¡å‘ä¸‹ä¼ é€’ï¼Œåˆ° UserAvatar(ä¸‡å²!)å’Œ Sidebar ä¸­ã€‚æœ€åï¼Œ SideBar å¿…é¡»å†å‘ä¸‹ä¼ é€’åˆ° UserStats ä¸­ã€‚\n\nä¸‹é¢è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨ä»£ç å®ç°(æˆ‘å°†æ‰€æœ‰çš„å†…å®¹æ”¾åˆ°äº†ä¸€ä¸ªæ–‡ä»¶ä¸­æ¥å¢åŠ æ˜“è¯»æ€§ï¼Œä½†åœ¨çœŸå®æƒ…å†µä¸‹å¯èƒ½éœ€è¦æŒ‰ç…§[æŸç§æ ‡å‡†ç»“æ„](https://daveceddia.com/react-project-structure/)å°†å®ƒæ‹†æˆå¤šä¸ªç‹¬ç«‹çš„æ–‡ä»¶)ã€‚\n\n```Javascript\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\nconst UserAvatar = ({ userï¼Œ size }) =\u003e (\n  \u003cimg\n    className={`user-avatar ${size || \"\"}`}\n    alt=\"user avatar\"\n    src={user.avatar}\n  /\u003e\n);\n\nconst UserStats = ({ user }) =\u003e (\n  \u003cdiv className=\"user-stats\"\u003e\n    \u003cdiv\u003e\n      \u003cUserAvatar user={user} /\u003e\n      {user.name}\n    \u003c/div\u003e\n    \u003cdiv className=\"stats\"\u003e\n      \u003cdiv\u003e{user.followers} Followers\u003c/div\u003e\n      \u003cdiv\u003eFollowing {user.following}\u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n);\n\nconst Nav = ({ user }) =\u003e (\n  \u003cdiv className=\"nav\"\u003e\n    \u003cUserAvatar user={user} size=\"small\" /\u003e\n  \u003c/div\u003e\n);\n\nconst Content = () =\u003e \u003cdiv className=\"content\"\u003emain content here\u003c/div\u003e;\n\nconst Sidebar = ({ user }) =\u003e (\n  \u003cdiv className=\"sidebar\"\u003e\n    \u003cUserStats user={user} /\u003e\n  \u003c/div\u003e\n);\n\nconst Body = ({ user }) =\u003e (\n  \u003cdiv className=\"body\"\u003e\n    \u003cSidebar user={user} /\u003e\n    \u003cContent user={user} /\u003e\n  \u003c/div\u003e\n);\n\nclass App extends React.Component {\n  state = {\n    user: {\n      avatar:\n        \"https://www.gravatar.com/avatar/5c3dd2d257ff0e14dbd2583485dbd44b\"ï¼Œ\n      name: \"Dave\"ï¼Œ\n      followers: 1234ï¼Œ\n      following: 123\n    }\n  };\n\n  render() {\n    const { user } = this.state;\n\n    return (\n      \u003cdiv className=\"app\"\u003e\n        \u003cNav user={user} /\u003e\n        \u003cBody user={user} /\u003e\n      \u003c/div\u003e\n    );\n  }\n}\n\nReactDOM.render(\u003cApp /\u003eï¼Œ document.querySelector(\"#root\"));\n```\n\n[CodeSandbox ä¸Šçš„ç¤ºä¾‹ã€‚](https://codesandbox.io/s/q8yqx48074)\n\nåœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ `App`[åˆå§‹åŒ–](https://daveceddia.com/where-initialize-state-react/)äº†åŒ…å« user å¯¹è±¡çš„ stateï¼Œ åœ¨å®é™…æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½éœ€è¦[ä»æœåŠ¡ç«¯è·å–æ•°æ®](https://daveceddia.com/ajax-requests-in-react/)ï¼Œ å¹¶å°†å…¶ä¿å­˜åœ¨ state ä¸­ï¼Œç”¨äºæ¸²æŸ“ã€‚\n\nä» prop drilling çš„è§’åº¦æ¥çœ‹ï¼Œä¸Šé¢ä»£ç çš„é—®é¢˜å¹¶ä¸ä¸¥é‡ã€‚è€Œä¸”æˆ‘ä»¬ä¹Ÿç»å¯¹ä¸ä¼šåå¯¹ä½¿ç”¨ prop drillingï¼Œå®ƒå®Œå…¨åˆç†å¹¶ä¸”æ˜¯ React å·¥ä½œçš„æ ¸å¿ƒæ–¹å¼ã€‚ä½†æ˜¯åœ¨å†™ä»£ç æ—¶å±‚æ¬¡è¿‡æ·±ä¼šæœ‰ä¸€ç‚¹åŒçƒ¦ï¼Œå°¤å…¶å½“ä½ éœ€è¦ä¼ é€’å¤šä¸ª props æ—¶ã€‚\n\nProp drilling è¿˜æœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯:å®ƒä½¿åŸæœ¬æ— å…³çš„ç»„ä»¶ä¹‹é—´äº§ç”Ÿäº†è€¦åˆã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå³ä½¿`Nav`å¹¶ä¸éœ€è¦`user`å±æ€§ï¼Œä½†è¿˜æ˜¯éœ€è¦æ¥æ”¶ user å±æ€§ï¼Œå¹¶ä¸”è¿˜è¦ä¼ é€’ç»™`UserAvatar`ã€‚\n\nç´§è€¦åˆçš„ç»„ä»¶(å°† props è½¬å‘ç»™å­ç»„ä»¶çš„ç»„ä»¶)å¾ˆéš¾é‡ç”¨ï¼Œå› ä¸ºåœ¨ä½¿ç”¨è¿™ç±»ç»„ä»¶æ—¶ï¼Œä½ éœ€è¦åœ¨å®ƒä»¬çš„çˆ¶ç»„ä»¶ä¸­å‡†å¤‡å¥½è¿™äº›å±æ€§ã€‚\n\né‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•æ”¹è¿›å‘¢?\n\n## åœ¨ä½¿ç”¨ Redux æˆ– Context API ä¹‹å‰\n\nå¦‚æœä½ å¯ä»¥**åˆå¹¶**ä½ çš„ app ç»“æ„ï¼Œå¹¶ä¸”åˆ©ç”¨`childern`å±æ€§ï¼Œæ— éœ€å€ŸåŠ© prop drillingï¼Œ Context æˆ– Reduxï¼Œä¹Ÿå¯ä»¥ä½¿ä½ çš„ä»£ç ä¼šå˜å¾—ç®€æ´ã€‚\n\nå¯¹äºåƒ`Nav`ï¼Œ`Sidebar`å’Œ`Body`ä¸€æ ·ï¼Œéœ€è¦æˆä¸ºå ä½ç¬¦çš„ç»„ä»¶æ¥è¯´ï¼Œchilren å±æ€§æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è§£å†³æ–¹æ¡ˆã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œä½ å¯ä»¥ä½¿ç”¨**ä»»ä½•**å±æ€§ä¼ é€’ JSX ç»„ä»¶ï¼Œå¹¶éä¸€å®šè¦ä½¿ç”¨ childrenã€‚å› æ­¤å¦‚æœä½ éœ€è¦å¤šä¸ªå…¥å£æ¥æ³¨å…¥ç»„ä»¶ï¼Œè¯·ç‰¢è®°è¿™ä¸€ç‚¹ã€‚\n\nè¿™ä¸ªç‰ˆæœ¬çš„ React ç¤ºä¾‹ä¸­ï¼Œ `Nav`ï¼Œ`Body`å’Œ`Sidebar`æ¥æ”¶ chilren å±æ€§ï¼Œå¹¶ä¸”æŒ‰ç…§ä»–ä»¬åŸæœ‰çš„æ–¹å¼è¿›è¡Œæ¸²æŸ“ã€‚è¿™æ ·å°±ä¸å†éœ€è¦æ‹…å¿ƒå¦‚ä½•ä¼ é€’ç‰¹å®šçš„å±æ€§ï¼Œåªéœ€è¦åˆç†åœ°ä½¿ç”¨ç»„ä»¶è‡ªèº«çš„å±æ€§è¿›è¡Œæ¸²æŸ“å³å¯ã€‚è¿™ä¸ªä¾‹å­è¿˜å±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨**ä»»æ„**å±æ€§æ¥ä¼ é€’ childrenã€‚\n\n(æ„Ÿè°¢ Dan Abramov æå‡ºçš„[å»ºè®®](https://twitter.com/dan_abramov/status/1021850499618955272)!)\n\n```javascript\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\nconst UserAvatar = ({ userï¼Œ size }) =\u003e (\n  \u003cimg\n    className={`user-avatar ${size || \"\"}`}\n    alt=\"user avatar\"\n    src={user.avatar}\n  /\u003e\n);\n\nconst UserStats = ({ user }) =\u003e (\n  \u003cdiv className=\"user-stats\"\u003e\n    \u003cdiv\u003e\n      \u003cUserAvatar user={user} /\u003e\n      {user.name}\n    \u003c/div\u003e\n    \u003cdiv className=\"stats\"\u003e\n      \u003cdiv\u003e{user.followers} Followers\u003c/div\u003e\n      \u003cdiv\u003eFollowing {user.following}\u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n);\n\n// æ¥æ”¶ children å¹¶ä¸”æ¸²æŸ“\nconst Nav = ({ children }) =\u003e (\n  \u003cdiv className=\"nav\"\u003e\n    {children}\n  \u003c/div\u003e\n);\n\nconst Content = () =\u003e (\n  \u003cdiv className=\"content\"\u003emain content here\u003c/div\u003e\n);\n\nconst Sidebar = ({ children }) =\u003e (\n  \u003cdiv className=\"sidebar\"\u003e\n    {children}\n  \u003c/div\u003e\n);\n\n// Body éœ€è¦ä¸€ä¸ª sidebar å’Œ contentï¼Œ ä½†ç”¨è¿™ç§å½¢å¼å†™ï¼Œ\n// ä»–ä»¬å¯ä»¥æ˜¯ä»»ä½•å±æ€§\nconst Body = ({ sidebarï¼Œ content }) =\u003e (\n  \u003cdiv className=\"body\"\u003e\n    \u003cSidebar\u003e{sidebar}\u003c/Sidebar\u003e\n    {content}\n  \u003c/div\u003e\n);\n\nclass App extends React.Component {\n  state = {\n    user: {\n      avatar:\n        \"https://www.gravatar.com/avatar/5c3dd2d257ff0e14dbd2583485dbd44b\"ï¼Œ\n      name: \"Dave\"ï¼Œ\n      followers: 1234ï¼Œ\n      following: 123\n    }\n  };\n\n  render() {\n    const { user } = this.state;\n\n    return (\n      \u003cdiv className=\"app\"\u003e\n        \u003cNav\u003e\n          \u003cUserAvatar user={user} size=\"small\" /\u003e\n        \u003c/Nav\u003e\n        \u003cBody\n          sidebar={\u003cUserStats user={user} /\u003e}\n          content={\u003cContent /\u003e}\n        /\u003e\n      \u003c/div\u003e\n    );\n  }\n}\n\nReactDOM.render(\u003cApp /\u003eï¼Œ document.querySelector(\"#root\"));\n```\n\n[CodeSandbox ä¸Šçš„ç¤ºä¾‹ã€‚](https://codesandbox.io/s/mj19ywz0oy)\n\nå¦‚æœä½ çš„ app ååˆ†å¤æ‚(æ¯”è¿™ä¸ªä¾‹å­å¤æ‚çš„å¤š!)ï¼Œå¯èƒ½å¾ˆéš¾ä½¿ç”¨`children`çš„æ¨¡å¼ã€‚ä¸‹é¢è®©æˆ‘ä»¬å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨ Redux æ¥é¿å… prop drillingã€‚\n\n## Redux ç¤ºä¾‹\n\næˆ‘ä»¬å…ˆæ¥çœ‹ä¸€ä¸‹ Redux çš„ç¤ºä¾‹ï¼Œå†ä»”ç»†è§‚å¯Ÿ Context æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å¦‚æœä½ å¯¹ Redux å¹¶ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥å…ˆé˜…è¯»æˆ‘å†™çš„[Redux ç®€ä»‹](https://daveceddia.com/how-does-redux-work/)(æˆ–è€…[è§‚çœ‹è§†é¢‘](https://youtu.be/sX3KeP7v7Kg))ã€‚\n\nå°†ä¸Šé¢çš„ app ç”¨ Redux é‡æ„åï¼Œ`user`ä¿¡æ¯å­˜å‚¨åœ¨ Redux store ä¸­ã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ react-redux çš„`connect`æ–¹æ³•ç›´æ¥å‘ç»„ä»¶ä¸­æ³¨å…¥`user`å±æ€§ã€‚\n\nè¿™æ ·å°±å®ç°äº†ç»„ä»¶é—´çš„è§£è€¦ã€‚ `Nav`ï¼Œ `Body`å’Œ`Siderbar`ä¸å†æ¥æ”¶å’Œä¼ é€’`user`å±æ€§ã€‚å†ä¹Ÿä¸éœ€è¦æ¥æ”¶æ— ç”¨çš„å±æ€§ï¼Œå†ä¹Ÿä¸å­˜åœ¨æ— ç”¨çš„è€¦åˆã€‚\n\nå…¶ä¸­çš„ reducer ä¹Ÿéƒ½ååˆ†ç®€å•ã€‚æˆ‘åœ¨[Redux ä¸­çš„ reducers æ˜¯å¦‚ä½•å·¥ä½œçš„](https://daveceddia.com/what-is-a-reducer/)å’Œ[å¦‚ä½•å†™å‡º immutable ä»£ç ](https://daveceddia.com/immutable-updates-react-redux/)ä¸­å¯¹è¿™æ–¹é¢çŸ¥è¯†è¿›è¡Œäº†æ›´è¯¦ç»†çš„ä»‹ç»ã€‚\n\n```javascript\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// æˆ‘ä»¬éœ€è¦ createStore, connect å’Œ Provider:\nimport { createStore } from \"redux\";\nimport { connect, Provider } from \"react-redux\";\n\n// åˆ›å»ºä¸€ä¸ªå¸¦æœ‰åˆå§‹ç©º state çš„ reducer\nconst initialState = {};\nfunction reducer(state = initialState, action) {\n  switch (action.type) {\n    // å“åº” the SET_USER å¹¶æ›´æ–° state\n    case \"SET_USER\":\n      return {\n        ...state,\n        user: action.user\n      };\n    default:\n      return state;\n  }\n}\n\n// åˆ©ç”¨ reducer åˆ›å»º store\nconst store = createStore(reducer);\n\n// æ´¾å‘ä¸€ä¸ª action æ¥è®¾ç½® user çš„å€¼\n// å› ä¸ºåˆå§‹åŒ–çš„ state æ˜¯ç©ºçš„\nstore.dispatch({\n  type: \"SET_USER\",\n  user: {\n    avatar: \"https://www.gravatar.com/avatar/5c3dd2d257ff0e14dbd2583485dbd44b\",\n    name: \"Dave\",\n    followers: 1234,\n    following: 123\n  }\n});\n\n// mapStateToProps æ–¹æ³•ä» state ä¸­æŠ½å–äº†ä¸€ä¸ª keyï¼ˆuserï¼‰\n// å¹¶ç”¨`user`å±æ€§è¿›è¡Œä¼ é€’\nconst mapStateToProps = state =\u003e ({\n  user: state.user\n});\n\n// connect() ä½¿ UserAvatar å¯ä»¥ç›´æ¥æ¥æ”¶ `user`\n// è€Œæ— éœ€ä»çˆ¶ç»„ä»¶ä¸­æ¥æ”¶\n\n// è¿˜å¯ä»¥åˆ†å‰²æˆä¸¤ä¸ªå˜é‡ï¼š\n//   const UserAvatarAtom = ({ user, size }) =\u003e ( ... )\n//   const UserAvatar = connect(mapStateToProps)(UserAvatarAtom);\nconst UserAvatar = connect(mapStateToProps)(({ user, size }) =\u003e (\n  \u003cimg\n    className={`user-avatar ${size || \"\"}`}\n    alt=\"user avatar\"\n    src={user.avatar}\n  /\u003e\n));\n\n// connect() ä½¿ UserStats å¯ä»¥ç›´æ¥æ¥æ”¶`user`\n// è€Œæ— éœ€ä»çˆ¶ç»„ä»¶ä¸­æ¥æ”¶\n// ä¸¤ä¸ªç»„ä»¶å¯ä»¥ä½¿ç”¨åŒä¸€ä¸ª mapStateToProps æ–¹æ³•\nconst UserStats = connect(mapStateToProps)(({ user }) =\u003e (\n  \u003cdiv className=\"user-stats\"\u003e\n    \u003cdiv\u003e\n      \u003cUserAvatar /\u003e\n      {user.name}\n    \u003c/div\u003e\n    \u003cdiv className=\"stats\"\u003e\n      \u003cdiv\u003e{user.followers} Followers\u003c/div\u003e\n      \u003cdiv\u003eFollowing {user.following}\u003c/div\u003e\n    \u003c/div\u003e\n  \u003c/div\u003e\n));\n\n// Nav ä¸å†éœ€è¦çŸ¥é“ `user`\nconst Nav = () =\u003e (\n  \u003cdiv className=\"nav\"\u003e\n    \u003cUserAvatar size=\"small\" /\u003e\n  \u003c/div\u003e\n);\n\nconst Content = () =\u003e \u003cdiv className=\"content\"\u003emain content here\u003c/div\u003e;\n\n// Sidebar ä¸å†éœ€è¦çŸ¥é“ `user`\nconst Sidebar = () =\u003e (\n  \u003cdiv className=\"sidebar\"\u003e\n    \u003cUserStats /\u003e\n  \u003c/div\u003e\n);\n\n// Body ä¸å†éœ€è¦çŸ¥é“ `user`\nconst Body = () =\u003e (\n  \u003cdiv className=\"body\"\u003e\n    \u003cSidebar /\u003e\n    \u003cContent /\u003e\n  \u003c/div\u003e\n);\n\n// App ä¸å†ç»´æŠ¤ stateï¼Œ å¯ä»¥ç®€åŒ–æˆä¸€ä¸ªæ— çŠ¶æ€çš„å‡½æ•°\nconst App = () =\u003e (\n  \u003cdiv className=\"app\"\u003e\n    \u003cNav /\u003e\n    \u003cBody /\u003e\n  \u003c/div\u003e\n);\n\n// å°†æ•´ä¸ª app ç”¨ Provider åŒ…èµ·æ¥ï¼Œä½¿ connect()\n// èƒ½å¤Ÿè¿æ¥åˆ° store\nReactDOM.render(\n  \u003cProvider store={store}\u003e\n    \u003cApp /\u003e\n  \u003c/Provider\u003e,\n  document.querySelector(\"#root\")\n);\n```\n\n[CodeSandbox ä¸Šçš„ç¤ºä¾‹ã€‚](https://codesandbox.io/s/943yr0qp3o)\n\nç°åœ¨ä½ ä¹Ÿè®¸æƒ³çŸ¥é“ Redux æ˜¯å¦‚ä½•å®ç°è¿™ç§é­”æ³•çš„ã€‚è¿™æ˜¯ä¸ªå¥½é—®é¢˜ï¼Œä¸ºä»€ä¹ˆ React ä¸­ä¸æ”¯æŒå¤šå±‚ä¼ é€’å±æ€§ï¼Œè€Œ Redux å°±å¯ä»¥å‘¢ï¼Ÿ\n\nç­”æ¡ˆæ˜¯ Redux ä½¿ç”¨äº† React ä¸­çš„ Context åŠŸèƒ½ã€‚ä¸è¿‡ä¸æ˜¯æ–°çš„ Context APIï¼Œè€Œæ˜¯è€ç‰ˆæœ¬ Contextã€‚ React æ–‡æ¡£ä¸­æ˜ç¡®è¯´æ˜ï¼Œé™¤éæ˜¯ç”¨äºç¬¬ä¸‰æ–¹åº“æˆ–æ˜ç¡®çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œå¦åˆ™ä¸æ¨èä½¿ç”¨ Contextã€‚\n\nContext å°±åƒæ˜¯ä¸€ä¸ªè¿è¡Œåœ¨ç»„ä»¶èº«åçš„æ€»çº¿ï¼šå¦‚æœä½ æƒ³ä»ä¸­æ¥æ”¶ç”µåŠ›ï¼ˆæ•°æ®ï¼‰ï¼Œåªéœ€è¦æ’ä¸Šç”µæºå°±å¯ä»¥äº†ï¼ˆReact-Redux çš„ `connect()`æ–¹æ³•ï¼‰ã€‚\n\nè¿™éƒ¨åˆ†åŠŸèƒ½åªæ˜¯ Redux çš„å†°å±±ä¸€è§’ã€‚è‡ªç”±ä¼ é€’å±æ€§åªæ˜¯ Redux æœ€**è¡¨é¢**çš„åŠŸèƒ½ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒRedux è¿˜æœ‰ä¸€äº›å…¶ä»–çš„ä¼˜ç‚¹ï¼š\n\n### ã€Œçº¯ã€çš„`connect`\n\n`connect` ä¼šè‡ªåŠ¨ä½¿è¿æ¥çš„ç»„ä»¶å˜æˆã€Œçº¯ç»„ä»¶ã€ï¼Œè¿™ä¹Ÿå°±æ„å‘³ç€å®ƒä»¬åªæœ‰åœ¨ props å‘ç”Ÿå˜åŒ–ï¼Œä¹Ÿå°±æ˜¯ Redux store ä¸­å¯¹åº”çš„å€¼å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šé‡æ–°æ¸²æŸ“ã€‚è¿™é˜²æ­¢äº†ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“ï¼Œä¿è¯ app å¯ä»¥å¿«é€Ÿè¿è¡Œã€‚DIY æ–¹æ³•ï¼šåˆ›å»ºä¸€ä¸ªç»§æ‰¿ `PureComponent` çš„ç±»ï¼Œæˆ–è‡ªå·±å®ç°`shouldComponentUpdate`ã€‚\n\n### Redux å¯ä»¥ç®€åŒ–è°ƒè¯•\n\nactions å’Œ reducers çš„æ ·æ¿ä»£ç å¸¦æ¥çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯å¼ºå¤§çš„è°ƒè¯•åŠŸèƒ½ã€‚\n\nä½¿ç”¨ [Redux DevTools Extension](https://github.com/zalmoxisus/redux-devtools-extension) å¯ä»¥å¸®åŠ©ä½ è‡ªåŠ¨è®°å½• app ä¸­çš„æ¯ä¸€ä¸ª actionã€‚ä½ å¯ä»¥åœ¨ä»»ä½•æ—¶å€™æ‰“å¼€å®ƒï¼ŒæŸ¥çœ‹è§¦å‘äº†å“ªäº› actionsï¼Œä»–ä»¬çš„ payload æ˜¯ä»€ä¹ˆï¼Œä»¥åŠ action å‘ç”Ÿå‰åçš„ state å˜åŒ–ã€‚\n\n![](/static/redux-devtools.gif)\n\nRedux DevTools çš„å¦ä¸€ä¸ªé‡è¦åŠŸèƒ½æ˜¯æ—¶é—´æ—…è¡Œè°ƒè¯•ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥é€šè¿‡ç‚¹å‡»å·²å‘ç”Ÿçš„ action è·³è½¬åˆ°è¯¥æ—¶é—´ç‚¹ï¼Œä¹Ÿå°±æ˜¯é‡æ’­åœ¨é‚£ä¹‹å‰çš„æ‰€æœ‰ actionsï¼ˆåŒ…å«è¯¥ action æœ¬èº«ï¼‰ã€‚è¿™æ˜¯ç”±äºæ¯ä¸ª action éƒ½æ˜¯ **immutably** æ›´æ–° stateï¼Œå› æ­¤ä½ å¯ä»¥è·å–åˆ° state æ›´æ–°åˆ—è¡¨ï¼Œå¹¶ä¸”æ— å‰¯ä½œç”¨çš„éšæ„é‡æ’­ã€‚\n\nè¿˜æœ‰åƒ [LogRocket](https://logrocket.com/) è¿™ç§çš„å·¥å…·ï¼Œå¯ä»¥åœ¨æ¯ä¸€ä¸ªç”¨æˆ·çš„**äº§å“ç¯å¢ƒ**ä¸Šæä¾›å§‹ç»ˆå¼€å¯çš„ Redux DevToolsã€‚æ”¶åˆ°äº† bug æŠ¥å‘Šï¼Ÿæ²¡é—®é¢˜ï¼Œåœ¨ LogRocket ä¸­æŸ¥æ‰¾ç”¨æˆ·çš„ä¼šè¯ï¼Œä½ å°±å¯ä»¥çœ‹åˆ°ä»–ä»¬çš„æ“ä½œè®°å½•å’Œè§¦å‘çš„ actionsã€‚è¿™ä¸€åˆ‡éƒ½æ˜¯é€šè¿‡æŒ–æ˜ Redux çš„ action æµå®Œæˆçš„ã€‚\n\n### è‡ªå®šä¹‰ Redux ä¸­é—´ä»¶\n\nRedux æ”¯æŒ**ä¸­é—´ä»¶**ã€‚ä¸­é—´ä»¶çš„æ„æ€æ˜¯ã€Œæ¯æ¬¡æ´¾å‘ action æ—¶éƒ½ä¼šæ‰§è¡Œçš„æ–¹æ³•ã€ã€‚å®ç°ä½ è‡ªå·±çš„ä¸­é—´ä»¶å¹¶æ²¡æœ‰çœ‹èµ·æ¥é‚£ä¹ˆéš¾ï¼Œè€Œä¸”èƒ½å¤Ÿå®Œæˆè®¸å¤šå¼ºå¤§çš„åŠŸèƒ½ã€‚\n\nä¾‹å¦‚ï¼š\n\n- æƒ³è¦åœ¨ action name æ˜¯ä»¥ `FETCH_` ä¸ºå‰ç¼€æ—¶ï¼Œå¼€å§‹ API è¯·æ±‚ï¼Ÿ ä½ å¯ä»¥ç”¨ä¸­é—´ä»¶æ¥å®ç°ã€‚\n- æƒ³è¦åœ¨é›†ä¸­åœ°å°†æ—¥å¿—å‘é€ç»™åˆ†æè½¯ä»¶ï¼Ÿä¸­é—´ä»¶æ˜¯ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆã€‚\n- æƒ³è¦åœ¨ç‰¹å®šæ—¶é—´å†…é˜»æ­¢æŸäº›ç‰¹å®š actions è§¦å‘ï¼Ÿä½ å¯ä»¥ä½¿ç”¨ä¸­é—´ä»¶æ¥å®ç°ï¼Œä¸ä¼šå¯¹ app çš„å…¶ä½™éƒ¨åˆ†äº§ç”Ÿå½±å“ã€‚\n- æƒ³è¦è‡ªåŠ¨åœ°æ‹¦æˆªå¸¦æœ‰ JWT token çš„ actionï¼Œå¹¶æŠŠä»–ä»¬å­˜åˆ° localStorage ä¸­ï¼Ÿæ²¡é”™ï¼Œä¸­é—´ä»¶ã€‚\n\nè¿™é‡Œæœ‰ä¸€ç¯‡å…³äº[å¦‚ä½•å†™ Redux ä¸­é—´ä»¶](https://medium.com/@jacobp100/you-arent-using-redux-middleware-enough-94ffe991e6)çš„æ–‡ç« ã€‚\n\n## \u003ca name=\"how-to-use-context-api\"\u003e\u003c/a\u003eå¦‚ä½•ä½¿ç”¨ Context API\n\nä½†æ˜¯ä¹Ÿè®¸ä½ ä¸éœ€è¦ Redux ä¸­é‚£äº›èŠ±å“¨çš„åŠŸèƒ½ã€‚ä¹Ÿè®¸ä½ ä¸éœ€è¦ç®€å•çš„è°ƒè¯•ï¼Œå®šåˆ¶åŒ–ï¼Œæˆ–æ€§èƒ½æå‡ï¼Œä½ åªæ˜¯å¸Œæœ›æ•°æ®çš„ä¼ é€’èƒ½å˜å¾—ç®€å•äº›ã€‚ä¹Ÿè®¸ä½ çš„ app å¾ˆå°ï¼Œæˆ–è€…éœ€è¦å…ˆè®©æŸäº›åŠŸèƒ½æ­£å¸¸å·¥ä½œåï¼Œå†è€ƒè™‘å¼•å…¥ä¸€äº›å…¶ä»–çš„åº“ã€‚\n\nReact çš„æ–° Context API ä¹Ÿè®¸å¾ˆé€‚åˆä½ ã€‚è®©æˆ‘ä»¬çœ‹çœ‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚\n\næˆ‘åœ¨ Egghead ä¸Šå‘å¸ƒäº†ä¸€ä¸ªç®€çŸ­çš„ Context API è¯¾ç¨‹ï¼Œ å¦‚æœä½ ä»¬æ›´å–œæ¬¢çœ‹è§†é¢‘ï¼Œå¯ä»¥å‚è€ƒ[è¿™é‡Œ](https://egghead.io/lessons/react-pass-props-through-multiple-levels-with-react-s-context-api)ã€‚\n\nContext API ä¸­æœ‰ä¸‰ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼š\n\n- `React.createContext` ç”Ÿæˆ Contextã€‚\n- `Provider`ï¼ˆç”±`createContext`è¿”å›ï¼‰åˆ›å»ºè´¯ç©¿æ•´ä¸ªç»„ä»¶æ ‘çš„ã€Œæ€»çº¿ã€ã€‚\n- `Consumer`ï¼ˆä¹Ÿæ˜¯ç”±`createContext`ç”Ÿæˆï¼Œæ¥é€šã€Œæ€»çº¿ã€ä»¥è·å–æ•°æ®ã€‚\n\nè¿™é‡Œçš„`Provider`å’Œ React-Redux é‡Œçš„`Provider`å¾ˆåƒã€‚æ¥æ”¶ä»»ä½•å½¢å¼çš„`value`å±æ€§ï¼ˆä¹Ÿå¯ä»¥æ˜¯ Redux storeï¼Œä½†æ˜¯è¿™æ ·åšå¾ˆè ¢ï¼‰ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯åŒ…å«ä¸€äº›æ•°æ®å’Œæ“ä½œè¿™äº›æ•°æ®çš„æ–¹æ³•çš„å¯¹è±¡ã€‚\n\nè€Œ`Consumer`å’Œ React-Redux çš„`connect`æ–¹æ³•æœ‰ç‚¹åƒï¼Œæ¥é€šæ•°æ®å¹¶æä¾›ç»™ç»„ä»¶ã€‚\n\næ¥ä¸‹æ¥æ˜¯é‡ç‚¹ï¼š\n\n```javascript\n// é¦–å…ˆï¼Œæˆ‘ä»¬ç”Ÿæˆä¸€ä¸ªæ–°çš„ Context\n// è¿™æ˜¯ä¸€ä¸ªåŒ…å«äº†ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡: { Provider, Consumer }\n// åˆ‡è®°å‘½åæ–¹å¼æ˜¯å¸•æ–¯å¡å¼è€Œä¸æ˜¯é©¼å³°å¼\n// è¿™ååˆ†é‡è¦ï¼Œå› ä¸ºæˆ‘ä»¬ä¸€ä¼šè¦æŠŠå®ƒç”¨ä½œä¸€ä¸ªç»„ä»¶\n// ç»„ä»¶åå¿…é¡»è¦ä»¥å¤§å†™å­—æ¯å¼€å§‹\nconst UserContext = React.createContext();\n\n// éœ€è¦æ•°æ®çš„ç»„ä»¶ä½¿ç”¨ Consumer å±æ€§æ¥é€š context\n// Consumer ä½¿ç”¨ã€Œrender propsã€æ¨¡å¼ã€‚\nconst UserAvatar = ({ size }) =\u003e (\n  \u003cUserContext.Consumer\u003e\n    {user =\u003e (\n      \u003cimg\n        className={`user-avatar ${size || \"\"}`}\n        alt=\"user avatar\"\n        src={user.avatar}\n      /\u003e\n    )}\n  \u003c/UserContext.Consumer\u003e\n);\n\n// æ³¨æ„ï¼Œæˆ‘ä»¬ä¸å†æ˜¯éœ€è¦ user å±æ€§\n// å› ä¸º Consumer å¯ä»¥ä» context ä¸­ç›´æ¥è·å–\nconst UserStats = () =\u003e (\n  \u003cUserContext.Consumer\u003e\n    {user =\u003e (\n      \u003cdiv className=\"user-stats\"\u003e\n        \u003cdiv\u003e\n          \u003cUserAvatar user={user} /\u003e\n          {user.name}\n        \u003c/div\u003e\n        \u003cdiv className=\"stats\"\u003e\n          \u003cdiv\u003e{user.followers} Followers\u003c/div\u003e\n          \u003cdiv\u003eFollowing {user.following}\u003c/div\u003e\n        \u003c/div\u003e\n      \u003c/div\u003e\n    )}\n  \u003c/UserContext.Consumer\u003e\n);\n\n// ... å…¶ä»–ç»„ä»¶ ...\n// ... ä¸åœ¨éœ€è¦å…³æ³¨ `user` å±æ€§\n\n// æœ€åï¼Œåœ¨ App ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨ Provider\n// å‘ä¸‹ä¼ é€’ context\nclass App extends React.Component\n  state = {\n    user: {\n      avatar:\n        \"https://www.gravatar.com/avatar/5c3dd2d257ff0e14dbd2583485dbd44b\",\n      name: \"Dave\",\n      followers: 1234,\n      following: 123\n    }\n  };\n\n  render() {\n    return (\n      \u003cdiv className=\"app\"\u003e\n        \u003cUserContext.Provider value={this.state.user}\u003e\n          \u003cNav /\u003e\n          \u003cBody /\u003e\n        \u003c/UserContext.Provider\u003e\n      \u003c/div\u003e\n    );\n  }\n}\n```\n\n[CodeSandbox ä¸Šçš„ç¤ºä¾‹ã€‚](https://codesandbox.io/s/q9w2qrw6q4)\n\nè®©æˆ‘ä»¬å›é¡¾ä¸€ä¸‹å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚\n\nè®°ä½ä¸€å…±ä¸‰ä¸ªéƒ¨åˆ†ï¼š context è‡ªèº«ï¼ˆç”± `React.createContext` åˆ›å»ºï¼‰ï¼Œè¿˜æœ‰ä¸¤ä¸ªç»„ä»¶ï¼ˆ`Provider` å’Œ `Consumer`ï¼‰ã€‚\n\n### Provider å’Œ Consumer æ˜¯å¯¹åº”çš„\n\nProvider å’Œ Consumer æ˜¯ç»‘å®šåœ¨ä¸€èµ·çš„ï¼Œä¸å¯åˆ†å‰²ã€‚è€Œä¸”å®ƒä»¬åªçŸ¥é“å¦‚ä½•ä¸**å¯¹æ–¹**é€šä¿¡ã€‚å¦‚æœä½ åˆ›å»ºäº†ä¸¤ä¸ªä¸åŒçš„ contextsï¼Œ ã€ŒContext1ã€å’Œã€ŒContext2ã€ï¼Œåˆ™ Context1 çš„ Provider å’Œ Consumer æ— æ³•ä¸ Context2 çš„ Provider å’Œ Consumer é€šä¿¡ã€‚\n\n### Context ä¸å­˜å‚¨çŠ¶æ€\n\næ³¨æ„ï¼Œcontext è‡ªèº«**å¹¶æ²¡æœ‰è‡ªèº«çš„ state**ã€‚ å®ƒä»…ä»…æ˜¯æ•°æ®çš„ç®¡é“ï¼Œå‘`Provider`ä¸­ä¼ å…¥æ•°æ®ï¼Œä¼ é€’åˆ°å¯¹åº”çš„`Consumer`ä¸­ã€‚\n\nå½“ä½ åœ¨åˆ›å»º context æ—¶ï¼Œå¯ä»¥åƒè¿™æ ·çš„ä¼ äººã€Œé»˜è®¤å€¼ã€ï¼š\n\n```javascript\nconst Ctx = React.createContext(yourDefaultValue);\n```\n\nå½“ `Consumer` ä¸Šæ–¹æ²¡æœ‰ `Provider` æ—¶ï¼Œä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚å¦‚æœä¸ä¼ çš„è¯ï¼Œ é»˜è®¤å€¼å°±æ˜¯ `undefined`ã€‚ åˆ‡è®°ï¼Œè¿™æ˜¯**é»˜è®¤å€¼**ï¼Œ ä¸æ˜¯**åˆå§‹**å€¼ã€‚context ä¸ä¿ç•™ä»»ä½•å€¼ï¼Œåªæ˜¯ä¼ é€’ä½ è¾“å…¥çš„æ•°æ®ã€‚\n\n### Consumer ä½¿ç”¨ Render Props æ¨¡å¼\n\nRedux çš„ `connect` æ˜¯ä¸€ä¸ªé«˜é˜¶ç»„ä»¶ï¼ˆHoCï¼‰ï¼Œ**å°è£…**å¦ä¸€ä¸ªç»„ä»¶ï¼Œå¹¶ä¸”å°†å€¼ä¼ é€’ç»™å®ƒã€‚\n\nç›¸åçš„æ˜¯ï¼Œcontext ä¸­çš„ `Consumer` æœŸæœ›å®ƒçš„å­ç»„ä»¶æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚ å®ƒåœ¨æ¸²æŸ“æ—¶è°ƒç”¨è¯¥å‡½æ•°ï¼Œå°†ä»ä¸Šå±‚ `Provider` ä¸­è·å–çš„å€¼ï¼ˆæˆ–è€…æ˜¯ context çš„é»˜è®¤å€¼ï¼Œæˆ–è€…æ˜¯ `undefined`ï¼‰ä¼ è¿›å»ã€‚\n\n### Provider åªæ¥æ”¶ä¸€ä¸ªå€¼\n\nProvider åªæ¥æ”¶ `value` å±æ€§ã€‚ä½†ä¼ å…¥çš„å€¼å¯ä»¥æ˜¯ä»»ä½•ç±»å‹çš„ã€‚ å¦‚æœä½ æƒ³ä¼ é€’å¤šä¸ªå€¼ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«å¤šä¸ªå€¼çš„å¯¹è±¡ï¼Œå¹¶æŠŠè¯¥**å¯¹è±¡**ä¼ é€’ä¸‹å»ã€‚\n\nä»¥ä¸Šå°±æ˜¯ Context API çš„å¤§è‡´å†…å®¹äº†ã€‚\n\n## Context API ååˆ†çµæ´»\n\nå› ä¸ºåˆ›å»º Context ä¼šä¸ºæˆ‘ä»¬æä¾›ä¸¤ä¸ªå¯ä¾›è‡ªç”±ä½¿ç”¨çš„ç»„ä»¶ï¼ˆProvier å’Œ Consumerï¼‰ã€‚ä¸‹é¢æ˜¯ä¸€äº›æƒ³æ³•ï¼š\n\n### å°† Consumer è½¬åŒ–æˆé«˜é˜¶ç»„ä»¶\n\nä¸æƒ³åœ¨æ¯æ¬¡ä½¿ç”¨æ—¶éƒ½æ·»åŠ  `UserContext.Consumer`ï¼Ÿå½“ç„¶å¯ä»¥ï¼Œè¿™æ˜¯ä½ è‡ªå·±çš„ä»£ç ï¼ä½ å·²ç»æˆå¹´äº†ã€‚\n\nå¦‚æœä½ æ›´å–œæ¬¢é€šè¿‡å±æ€§çš„æ–¹å¼æ¥æ”¶æ•°æ®ï¼Œå¯ä»¥å¯¹ `Consumer` è¿›è¡Œç®€å•çš„å°è£…ï¼Œåƒè¿™æ ·ï¼š\n\n```javascript\nfunction withUser(Component) {\n  return function ConnectedComponent(props) {\n    return (\n      \u003cUserContext.Consumer\u003e\n        {user =\u003e \u003cComponent {...props} user={user} /\u003e}\n      \u003c/UserContext.Consumer\u003e\n    );\n  };\n}\n```\n\nè¿˜å¯ä»¥ç”¨ `withUser` é‡å†™ `UserAvatar`ï¼š\n\n```javascript\nconst UserAvatar = withUser(({ size, user }) =\u003e (\n  \u003cimg\n    className={`user-avatar ${size || \"\"}`}\n    alt=\"user avatar\"\n    src={user.avatar}\n  /\u003e\n));\n```\n\nBOOM! ä½ å¯ä»¥åƒä½¿ç”¨ Redux çš„ `connect` ä¸€æ ·ä½¿ç”¨ context, ä½†æ˜¯æ— æ³•å°†ç»„ä»¶è‡ªåŠ¨å˜æˆã€Œçº¯ç»„ä»¶ã€ã€‚\n\n### åœ¨ Provider ä¸­ç»´æŠ¤ state\n\nè¿˜è®°å¾—ä¹ˆï¼Œ context ä¸­çš„ Provider åªæ˜¯ä¸€ä¸ªä¼ é€’æ•°æ®çš„ç®¡é“ï¼Œæ— æ³•ç»´æŠ¤ä»»ä½•æ•°æ®ã€‚ä½†ä½ å¯ä»¥è‡ªå·±å°è£… Providerï¼Œæ¥ç»´æŠ¤æ•°æ®ã€‚\n\nåœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘å°†æ•°æ®éƒ½å­˜å‚¨åœ¨ `App` ä¸­ï¼Œæ˜¯ä¸ºäº†å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ Provider å’Œ Consumerã€‚ä½†æ˜¯ä¹Ÿè®¸ä½ æƒ³ç”¨ç”Ÿæˆä¸€ä¸ªè‡ªå·±çš„ã€Œstoreã€ã€‚ä½ å¯ä»¥è‡ªå·±åˆ›å»ºä¸€ä¸ªç»´æŠ¤å’Œä¼ é€’æ•°æ®çš„ç»„ä»¶ï¼š\n\n```javascript\nclass UserStore extends React.Component {\n  state = {\n    user: {\n      avatar:\n        \"https://www.gravatar.com/avatar/5c3dd2d257ff0e14dbd2583485dbd44b\",\n      name: \"Dave\",\n      followers: 1234,\n      following: 123\n    }\n  };\n\n  render() {\n    return (\n      \u003cUserContext.Provider value={this.state.user}\u003e\n        {this.props.children}\n      \u003c/UserContext.Provider\u003e\n    );\n  }\n}\n\n// ... è·³è¿‡ä¸­é—´éƒ¨åˆ† ...\n\nconst App = () =\u003e (\n  \u003cdiv className=\"app\"\u003e\n    \u003cNav /\u003e\n    \u003cBody /\u003e\n  \u003c/div\u003e\n);\n\nReactDOM.render(\n  \u003cUserStore\u003e\n    \u003cApp /\u003e\n  \u003c/UserStore\u003e,\n  document.querySelector(\"#root\")\n);\n```\n\nç°åœ¨ `UserStore` å”¯ä¸€çš„èŒè´£å°±æ˜¯ç»´æŠ¤ user æ•°æ®ã€‚å¤ªæ£’äº†ï¼Œ `App` ç°åœ¨åˆæ˜¯æ— çŠ¶æ€ç»„ä»¶ï¼Œè€Œä¸”çœ‹èµ·æ¥æ›´æ•´æ´äº†ã€‚\n\n[CodeSandbox ä¸Šçš„ç¤ºä¾‹ã€‚](https://codesandbox.io/s/jpy76nm1v)\n\n### ä½¿ç”¨ Context ä¼ é€’ Actions\n\né€šè¿‡ `Provider` å‘ä¸‹ä¼ é€’çš„å¯¹è±¡ä¸­å¯ä»¥åŒ…å«ä»»ä½•ç±»å‹çš„æ•°æ®ï¼Œå½“ç„¶ä¹Ÿå°±åŒ…æ‹¬å‡½æ•°ã€‚ä½ ä¹Ÿå¯ä»¥å«ã€Œactionsã€ã€‚\n\nä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼šä¸€ä¸ªç®€å•çš„æˆ¿é—´ï¼Œè¿˜æœ‰ä¸€ä¸ªå¼€å…³æ¥åˆ‡æ¢èƒŒæ™¯é¢œè‰²-å¯¹ä¸èµ·ï¼Œæˆ‘æ˜¯æŒ‡ç¯å…‰ã€‚\n\n![](/static/lightswitch-app.gif)\n\nstore ä¸­ä¸ä½†åŒ…å«ç¯å…‰çŠ¶æ€ï¼Œè¿˜åŒ…å«äº†åˆ‡æ¢ç¯å…‰çŠ¶æ€çš„å‡½æ•°ï¼Œå¹¶ä¸”éƒ½å°†ä½¿ç”¨ context å‘ä¸‹ä¼ é€’ã€‚\n\n```javascript\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./styles.css\";\n\n// ç©ºçš„ context\nconst RoomContext = React.createContext();\n\n// æœ¬ç»„ä»¶çš„å”¯ä¸€çš„èŒè´£ï¼šç®¡ç† Room çŠ¶æ€çš„ç»„ä»¶\nclass RoomStore extends React.Component {\n  state = {\n    isLit: false\n  };\n\n  toggleLight = () =\u003e {\n    this.setState(state =\u003e ({ isLit: !state.isLit }));\n  };\n\n  render() {\n    // å‘ä¸‹ä¼ é€’ state å’Œ onToggleLight\n    return (\n      \u003cRoomContext.Provider\n        value={{\n          isLit: this.state.isLit,\n          onToggleLight: this.toggleLight\n        }}\n      \u003e\n        {this.props.children}\n      \u003c/RoomContext.Provider\u003e\n    );\n  }\n}\n\n// ä» RoomContext æ¥æ”¶ state å’Œæ§åˆ¶å‡½æ•°\nconst Room = () =\u003e (\n  \u003cRoomContext.Consumer\u003e\n    {({ isLit, onToggleLight }) =\u003e (\n      \u003cdiv className={`room ${isLit ? \"lit\" : \"dark\"}`}\u003e\n        The room is {isLit ? \"lit\" : \"dark\"}.\u003cbr /\u003e\n        \u003cbutton onClick={onToggleLight}\u003eFlip\u003c/button\u003e\n      \u003c/div\u003e\n    )}\n  \u003c/RoomContext.Consumer\u003e\n);\n\nconst App = () =\u003e (\n  \u003cdiv className=\"app\"\u003e\n    \u003cRoom /\u003e\n  \u003c/div\u003e\n);\n\n// å°†æ•´ä¸ª App åŒ…è£…åœ¨ RoomStore ä¸­\n// åœ¨ `App` ä¸­åŒ…è£…ä¹Ÿå¯ä»¥\nReactDOM.render(\n  \u003cRoomStore\u003e\n    \u003cApp /\u003e\n  \u003c/RoomStore\u003e,\n  document.querySelector(\"#root\")\n);\n```\n\n[CodeSandbox ä¸Šçš„ç¤ºä¾‹ã€‚](https://codesandbox.io/s/jvky9o0nvw)\n\n## åº”è¯¥é€‰æ‹© Context è¿˜æ˜¯ Redux å‘¢\n\nç°åœ¨ä½ å·²ç»äº†è§£äº†å®ƒä»¬çš„å·¥ä½œæ–¹å¼ï¼Œä½ åº”è¯¥é€‰æ‹©å“ªä¸€ä¸ªï¼Ÿ**æƒ³æ¸…æ¥šåå†åšå†³å®š**å¯ä»¥ä½¿ä½ çš„ app å˜å¾—æ›´å¥½ï¼Œå†™èµ·æ¥æ›´æœ‰è¶£ã€‚æˆ‘çŸ¥é“ä½ ä¹Ÿè®¸åªæƒ³è¦ä¸€ä¸ªç¡®å®šçš„ã€Œç­”æ¡ˆã€ï¼Œä½†æˆ‘å¾ˆé—æ†¾çš„å‘Šè¯‰ä½ ï¼Œã€Œè¦è§†æƒ…å†µè€Œå®šã€ã€‚\n\nè¿™ä¾èµ–äº app çš„å¤§å°ï¼Œæˆ–å°†æ¥çš„å¤§å°ã€‚å°†ä¼šæœ‰å¤šå°‘äººè¿›è¡Œå¼€å‘ - åªæœ‰ä½ ï¼Œè¿˜æ˜¯ä¸€ä¸ªæ›´å¤§çš„å›¢é˜Ÿï¼Ÿä½ æˆ–ä½ çš„å›¢é˜Ÿå¯¹äºå‡½æ•°å¼çš„æ¦‚å¿µï¼ˆRedux ä¾èµ–äºæ­¤ï¼Œåƒ immutability å’Œçº¯å‡½æ•°ç­‰ï¼‰æŒæ¡å¦‚ä½•ï¼Ÿ\n\nç°åœ¨ JavaScript ç”Ÿæ€ç³»ç»Ÿä¸­å¼¥æ¼«ç€ä¸€è‚¡ç«äº‰çš„æ°”æ¯ï¼Œè¿™æ˜¯ååˆ†é”™è¯¯è€Œä¸”æœ‰å®³çš„ã€‚å¥½åƒæ¯ä¸€ä¸ªé€‰æ‹©éƒ½æ˜¯é›¶å’Œåšå¼ˆï¼šå¦‚æœä½ ä½¿ç”¨äº†**åº“ A**ï¼Œé‚£ä¹ˆä½ ä¸€å®šä¸èƒ½ä½¿ç”¨**å®ƒçš„ç«äº‰å¯¹æ‰‹åº“ B**ã€‚å½“ä¸€ä¸ªæ–°çš„åº“å‘å¸ƒæ—¶ï¼Œä¸€å®šåœ¨æŸç§ç¨‹åº¦ä¸Šæ¯”ç°æœ‰çš„åº“ä¼šæ›´å¥½ä¸€äº›ï¼Œè€Œä¸”ä¼šå°†å…¶å–ä»£ã€‚æ„Ÿè§‰æ‰€æœ‰çš„äº‹æƒ…éƒ½æ˜¯äºŒé€‰ä¸€ï¼Œè¦ä¹ˆé€‰æ‹©æœ€å¥½çš„ï¼Œè¦ä¹ˆå’Œè¿‡å»çš„å¼€å‘è€…ä¸€èµ·é€€å±…å¹•åã€‚\n\nå°†ä¸€ç³»åˆ—é€‰æ‹©çœ‹åšå·¥å…·ç®±ä¼šæ˜¯ä¸€ä¸ªæ›´å¥½çš„æ–¹æ¡ˆã€‚åƒæ˜¯é€‰æ‹©ç”¨èºä¸åˆ€è¿˜æ˜¯å†²å‡»èµ·å­ã€‚å¯¹äº 80%çš„å·¥ä½œæ¥è¯´ï¼Œå†²å‡»èµ·å­å¯ä»¥æ›´å¿«åœ°å›ºå®šèºä¸ã€‚ä½†å¯¹äºå¦å¤–çš„ 20%ï¼Œä¹Ÿè®¸å› ä¸ºç©ºé—´å¤ªå°ï¼Œæˆ–ç‰©å“ååˆ†ç²¾è‡´ç­‰åŸå› ï¼Œå…¶å®èºä¸åˆ€æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚å½“æˆ‘å¾—åˆ°å†²å‡»èµ·å­æ—¶ï¼Œæˆ‘ä¸ä¼šç«‹å³ä¸¢å¼ƒèºä¸åˆ€ï¼Œè¿˜æœ‰æˆ‘çš„ç”µé’»ã€‚å†²å‡»èµ·å­æ— æ³•**å–ä»£**å…¶ä»–çš„å·¥å…·ï¼Œå®ƒåªæ˜¯ä¸ºæˆ‘æä¾›äº†å¦ä¸€ä¸ªé€‰é¡¹ï¼Œå¦ä¸€ä¸ªè§£å†³é—®é¢˜çš„æ–¹å¼ã€‚\n\nContext å®Œå…¨ä¸ä¼šã€Œå–ä»£ã€Reduxï¼Œå°±åƒ React æ— æ³•ã€Œå–ä»£ã€ Angular æˆ– jQueryã€‚å½“æˆ‘éœ€è¦å¾ˆå¿«å®Œæˆä¸€äº›äº‹æƒ…æ—¶ï¼Œæˆ‘è¿˜æ˜¯ä¼šä½¿ç”¨ jQueryã€‚æˆ‘æœ‰æ—¶è¿˜ä¼šä½¿ç”¨æœåŠ¡å™¨ç«¯æ¸²æŸ“çš„ EJS æ¨¡æ¿è€Œä¸æ˜¯å¯åŠ¨ä¸€ä¸ªå®Œæ•´çš„ React appã€‚æœ‰æ—¶ä½ çš„ä»»åŠ¡å®Œå…¨ä¸éœ€è¦ React æˆ– Redux æ¥å®Œæˆã€‚\n\nå¦‚ä»Šï¼Œå½“ Redux çš„åŠŸèƒ½è¶…è¿‡äº†ä½ æ‰€éœ€è¦çš„ï¼Œ ä½ å¯ä»¥é€‰æ‹© Contextã€‚\n\n- åŸæ–‡åœ°å€ï¼šhttps://daveceddia.com/context-api-vs-redux/#how-to-use-the-react-context-api\n- è¯‘æ–‡å‡ºè‡ªï¼šTWNTF\n- è¯‘è€…ï¼šYingjian Li\n"},{"key":"react-native-at-airbnb-3","content":"| date       | tag          |\n| ---------- | ------------ |\n| 2018-07-25 | React-Native |\n\n---\n\n# [ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š æ„å»ºä¸€ä¸ªè·¨å¹³å°çš„ç§»åŠ¨ç«¯å›¢é˜Ÿ\n\n\u003e React Native è½¬å‹\n\n_è¿™æ˜¯ Airbnb å…³äº React Native ç»éªŒåˆ†äº«å’Œç§»åŠ¨ç«¯æœªæ¥è®¡åˆ’ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸‰ç¯‡._\n\né™¤äº†æ•°ä¸å°½çš„æŠ€æœ¯ä¸Šçš„åˆ©å¼Š, æˆ‘ä»¬è¿˜äº†è§£åˆ° React Native å¯¹å·¥ç¨‹å›¢é˜Ÿçš„æ„ä¹‰. è¿™è¿œæ¯”å‘å½“å‰å¹³å°ä¸­æ·»åŠ ä¸€ä¸ªæ–°åº“æˆ–æ¨¡å¼è¦å¤æ‚çš„å¤š,æˆ‘ä»¬åœ¨æœŸé—´é­é‡äº†è®¸å¤šç»„ç»‡ä¸Šçš„æŒ‘æˆ˜.ä¸æŠ€æœ¯ä¸Šçš„æŒ‘æˆ˜ä¸åŒ,ç»„ç»‡ä¸Šçš„æŒ‘æˆ˜æ›´éš¾å‘ç°,è§£å†³,æ¢å¤.è°¢å¤©è°¢åœ°,æˆ‘ä»¬çš„ mobile æ–‡åŒ–ååˆ†å¥å…¨,ä½†ä¸‹é¢æ˜¯åœ¨å›¢é˜Ÿä¸­ä½¿ç”¨ React Native æ—¶éœ€è¦æ³¨æ„çš„ä¸€äº›äº‹é¡¹.\n\n### ä¸¤æåˆ†åŒ–çš„ React Native\n\næ ¹æ®æˆ‘ä»¬çš„ç»éªŒ, å·¥ç¨‹å¸ˆä»¬å…³äº React Native æœ‰ç€å®Œå…¨ä¸åŒçš„çœ‹æ³•,æœ‰äººè®¤ä¸ºå®ƒæ˜¯ç»Ÿä¸€äº† Android,iOS å’Œ web çš„é“¶å¼¹,æœ‰äººåˆ™å®Œå…¨åå¯¹åœ¨å›¢é˜Ÿä¸­ä½¿ç”¨ React Native.å³ä½¿æ˜¯åœ¨ä½¿ç”¨ä¹‹å,æƒ…å†µä¹Ÿååˆ†ç±»ä¼¼,æœ‰çš„å›¢é˜Ÿè®¤ä¸ºå®ƒæ˜¯æå¥½çš„,è€Œæœ‰çš„äººå´æ„Ÿåˆ°å¤±æœ›å¹¶é‡æ–°ä½¿ç”¨ native.\n\n### è¿½è¸ªæ ¹æœ¬åŸå› \n\nåœ¨ä½¿ç”¨ React Native æ—¶ä¼šæœ‰è®¸å¤šä¸å¯é¿å…çš„ bug,æ”¹è¿›å’Œæ€§èƒ½é—®é¢˜.ä½†ä¹Ÿè¿˜æœ‰è®¸å¤šä¸æ–­å˜åŒ–çš„éƒ¨åˆ†:\n\n1.  React Native è‡ªèº«å˜åŒ–ååˆ†è¿…é€Ÿ\n2.  åŸºç¡€è®¾æ–½å’ŒåŠŸèƒ½çš„å¼€å‘æ˜¯åŒæ—¶è¿›è¡Œçš„\n3.  React Native å¯¹æ‰€æœ‰äººæ¥è¯´éƒ½æ˜¯ä¸€é—¨æ–°çš„æŠ€æœ¯,éœ€è¦å¤§å®¶ä¸€èµ·å­¦ä¹ \n4.  æˆ‘ä»¬çš„æ–‡æ¡£ä¸è°ƒè¯•æŒ‡å¼•æœ‰æ—¶ä¼šä¸ä¸€è‡´,äº§ç”Ÿå›°æƒ‘\n\nå› æ­¤,æƒ³è¦æ‰¾åˆ°é—®é¢˜çš„æ ¹æœ¬åŸå§‹é€šå¸¸æ˜¯å¾ˆå›°éš¾çš„.æœ‰æ—¶æ— æ³•ç¡®å®šé—®é¢˜æ˜¯ç”±å“ªä¸ªå›¢é˜Ÿå¼•èµ·çš„è¿˜æ˜¯ React Native è‡ªèº«å¯¼è‡´çš„.\n\n### React Native ä»ç„¶éœ€è¦ native\n\nä¸€ä¸ªå¸¸è§çš„è¯¯è§£å°±æ˜¯ React Native å¯ä»¥ä½¿ä½ å®Œå…¨ä¸ç”¨å†™åŸç”Ÿä»£ç .ç„¶è€Œäº‹å®å¹¶éå¦‚æ­¤,æœ‰æ—¶ä½ ä»ç„¶éœ€è¦å†™åŸç”Ÿä»£ç .ä¾‹å¦‚,æ–‡æœ¬åœ¨ä¸åŒå¹³å°ä¸Šçš„æ¸²æŸ“ä¼šæœ‰ç»†å¾®çš„å·®åˆ«,é”®ç›˜çš„å¤„ç†ä¹Ÿæœ‰æ‰€ä¸åŒä»¥åŠåœ¨ Android ä¸Š Activity çš„é‡æ–°åˆ›å»ºå’Œæ—‹è½¬ç­‰. é«˜è´¨é‡çš„ React Native åº”ç”¨éœ€è¦ä»”ç»†åœ°å¹³è¡¡æ‰€æœ‰å¹³å°. è€Œä¸‰ä¸ªå¹³å°é—´ä¸“ä¸šçŸ¥è¯†çš„å¹³è¡¡åˆååˆ†å›°éš¾,å°±å¯¼è‡´äº†å¾ˆéš¾äº§å‡ºä¸€ä¸ªé«˜è´¨é‡çš„åº”ç”¨.\n\n### è·¨å¹³å°è°ƒè¯•\n\nå¤§å¤šæ•°çš„å·¥ç¨‹å¸ˆéƒ½ç²¾é€šä¸€åˆ°ä¸¤ä¸ªå¹³å°.åŒæ—¶ç²¾é€š Android,iOS å’Œ React çš„äººå°‘ä¹‹åˆå°‘.å³ä½¿ç»å¤§éƒ¨åˆ†çš„å·¥ä½œéƒ½æ˜¯åœ¨æˆç†Ÿçš„ React Native ç¯å¢ƒä¸‹å®Œæˆçš„,æœ‰æ—¶ä¹Ÿéœ€è¦åœ¨æ·±å±‚çš„ native å±‚æ„å»ºæˆ–è°ƒè¯•.è¿™æ ·å·¥ç¨‹å¸ˆä»¬å°±ä¼šåœ¨ä¸€ä¸ªè‡ªå·±ä»æ¥æ²¡ç”¨è¿‡çš„å¹³å°ä¸­ debug.è€Œä¸”ç”±äºé—®é¢˜çš„æ ¹æœ¬åŸå› å¾ˆéš¾è¢«å®šä½,å·¥ç¨‹å¸ˆä¼šæ— ä»ä¸‹æ‰‹.\n\n### æ‹›è˜\n\nå³ä½¿æˆ‘ä»¬é‡‡ç”¨äº† React Native,æˆ‘ä»¬çš„ mobile å›¢é˜Ÿä¹Ÿåœ¨ä¸æ–­å‘å±•å£®å¤§.ä½†æ˜¯åœ¨ç¤¾åŒºä¸­,è®¸å¤šäººå¼€å§‹æŠŠ Airbnb å’Œ React Native å…³è”äº†èµ·æ¥,è€Œä¸”æœ‰äº›ç”šè‡³è®¤ä¸ºæˆ‘ä»¬çš„ App æ˜¯çº¯çš„ React Native App,ä½†äº‹å®å¹¶éå¦‚æ­¤.ç»“æœè®¸å¤š Android å’Œ iOS å·¥ç¨‹å¸ˆä¼šçŠ¹è±«æ˜¯å¦è¦é€‰æ‹© Airbnb,æˆ‘ä»¬ä»ç„¶åœ¨[æ‹›è˜](https://www.airbnb.com/careers/departments/engineering)!\n\n### è‰°éš¾çš„ Hybrid App\n\nåªç”¨ React Native æˆ– native å¼€å‘åº”ç”¨æ˜¯ç›¸å¯¹ç®€å•çš„.ä½†æ˜¯,ä¸€æ—¦ä½ é€‰æ‹©äº†æ··åˆå¼€å‘,ä½ å°±ä¼šå‘ç°å¾ˆå¤šé—®é¢˜.å¦‚ä½•åˆ’åˆ†å›¢é˜Ÿ?å›¢é˜Ÿé—´å¦‚ä½•åä½œ?å¦‚ä½•è·¨åº”ç”¨å…±äº«çŠ¶æ€?å¦‚ä½•ä¿è¯æµ‹è¯•?å¦‚ä½•æœ‰æ•ˆåœ°è·¨å¹³å°è°ƒè¯•?å¦‚ä½•å†³å®šå“ªä¸ªå¹³å°ä½¿ç”¨æ–°åŠŸèƒ½?å¦‚ä½•é›‡ä½£å’Œåˆ†é…èµ„æº?è¿™äº›éƒ½æ˜¯ä¸å¯é¿å…è€Œä¸”å¾ˆéš¾è§£å†³çš„é—®é¢˜.\n\n### ä¸‰ç§å¼€å‘ç¯å¢ƒ\n\nå¦‚æœæƒ³è¦é«˜æ•ˆåœ°å¼€å‘ React Native,å¿…é¡»è¦æœ‰ç¨³å®šçš„,æœ€æ–°çš„ React Native, Android å’Œ iOS ç¯å¢ƒ.å¯¹äºåƒ Airbnb è¿™æ ·ä½“é‡çš„å…¬å¸æ¥è¯´,æ¯ä¸ªå¹³å°éƒ½éœ€è¦å¤§é‡çš„æ—¶é—´æ¥é…ç½®,å­¦ä¹ å’Œæ›´æ–°.å‡ ä¸ªæ˜ŸæœŸåå›æ¥é€šå¸¸æ„å‘³ç€ä½ éœ€è¦èŠ±å‡ ä¸ªå°æ—¶è®©ä¸€åˆ‡æ¢å¤åˆ°æœ€æ–°çŠ¶æ€.\n\n### React Native å’Œ native ä¹‹é—´çš„å¹³è¡¡\n\nåœ¨å¾ˆå¤šæƒ…å†µä¸‹,è§£å†³é—®é¢˜çš„æœ€ä½³æ–¹æ¡ˆéƒ½éœ€è¦æ¨ªè·¨ React Native å’Œ native.ä¾‹å¦‚,æˆ‘ä»¬å¯¼èˆªæ çš„å®ç°å¤§é‡çš„ä½¿ç”¨ Activities å’Œ ViewControllers,å¤§éƒ¨åˆ†çš„ä»£ç éƒ½æ˜¯å„è‡ªå¹³å°ä¸Šçš„ native ä»£ç .å¾ˆå¤šæ—¶å€™éƒ½ä¸æ¸…æ¥šç©¶ç«Ÿæ˜¯è¯¥å†™ React Native ä»£ç è¿˜æ˜¯ native ä»£ç .è€Œå·¥ç¨‹å¸ˆè‡ªç„¶ä¼šé€‰æ‹©ä»–ä»¬ç†Ÿæ‚‰çš„å¹³å°,è¿™å°±ä¼šäº§ç”Ÿä¸€äº›ä¸ç†æƒ³çš„ä»£ç .\n\n### è·¨å¹³å°æµ‹è¯•\n\næˆ‘ä»¬å‘ç°å·¥ç¨‹å¸ˆä»¬ä¼šä¸»è¦å¼€å‘ä»–ä»¬ç†Ÿæ‚‰çš„å¹³å°,è€Œä¸”è®¤ä¸ºå¦‚æœåœ¨ä»–ä»¬æµ‹è¯•çš„å¹³å°ä¸Šæ˜¯å¥½çš„,åœ¨å…¶ä»–å¹³å°ä¸Šä¹Ÿæ˜¯ä¸€æ ·.å—ç›Šäº React Native çš„ç‰¹æ€§,å¤§å¤šæ•°æƒ…å†µä¸‹ç¡®å®æ˜¯è¿™æ ·çš„.ä½†æ˜¯æœ‰äº›æ—¶å€™ä¼šåœ¨ QA ç¯å¢ƒæˆ–äº§å“ç¯å¢ƒä¸­å‡ºç°é—®é¢˜.\n\n### å›¢é˜Ÿåˆ’åˆ†\n\nåŒæ—¶ä½¿ç”¨ React Native å’Œ native çš„å›¢é˜Ÿä¼šåŒæ—¶é¢å¯¹æŠ€æœ¯é—®é¢˜å’Œæ²Ÿé€šé—®é¢˜.ä¸€æ—¦æŠŠä»£ç åº“æŒ‰ç…§ native å’Œ React Native åˆ’åˆ†å¼€,ä»£ç ä¼šå˜å¾—ç¢ç‰‡åŒ–.å…±äº«ä¸šåŠ¡é€»è¾‘,æ¨¡å‹,çŠ¶æ€ç­‰å˜å¾—æ›´åŠ å›°éš¾è€Œä¸”å·¥ç¨‹å¸ˆä¸ä¼šå†æœ‰æ•´ä¸ªå·¥ä½œæµç¨‹çš„å¼€å‘ç»éªŒ.æˆ‘ä»¬ä»æœ€å¼€å§‹å°±æ¸…æ¥šè¿™ä¸€ç‚¹,ä½†è€ƒè™‘åˆ°å¦‚æœèƒ½å¤Ÿæ›´å¤šçš„å’Œ web ç«¯åä½œ,æƒ…å†µå¯èƒ½ä¼šæœ‰å¥½è½¬.ä¸€äº›å›¢é˜Ÿä¹‹é—´å¼€å§‹åœ¨ web å’Œ mobile ä¹‹é—´åˆ†äº«èµ„æºå’Œä»£ç ,ä½†æ•ˆæœå¹¶ä¸æ˜æ˜¾.\n\n### æ„Ÿè§‚çš„è¿­ä»£é€Ÿåº¦\n\nä½¿ç”¨ React Native çš„ä¸€ä¸ªä¸»è¦ç›®æ ‡å°±æ˜¯æé«˜å¼€å‘é€Ÿåº¦.é€šå¸¸æƒ…å†µä¸‹,React Native çš„åŠŸèƒ½æ˜¯ç”±å•ä¸ªå·¥ç¨‹å¸ˆå®Œæˆçš„.ä» React Native å·¥ç¨‹å¸ˆçš„è§’åº¦æ¥çœ‹,å¦‚æœä»–èŠ±è´¹äº†è¶…è¿‡ Android æˆ– iOS ä¸Šå¼€å‘æ—¶é—´çš„ 50%çš„æ—¶é—´,å³ä½¿æ•´ä½“èŠ±è´¹çš„æ—¶é—´æ›´å°‘,ä»–ä»¬ä¹Ÿä¼šè§‰å¾—æ›´é•¿.\n\n### å…¬å…±èµ„æºå’Œæ–‡æ¡£\n\nAndroid å’Œ iOS å·²æœ‰ 10 å¹´å†å²,è€Œä¸”æœ‰æ•°ç™¾ä¸‡çš„å·¥ç¨‹å¸ˆè´¡çŒ®äºå­¦ä¹ èµ„æº,å¼€æºå’Œåœ¨çº¿å¸®åŠ©.æˆ‘ä»¬åˆ©ç”¨å¦‚[CodePath](https://codepath.com/androidbootcamp)ç­‰èµ„æºå¸®åŠ©äººä»¬å­¦ä¹  Android å’Œ iOS.å³ä½¿ React Native æ‹¥æœ‰æœ€å¤§çš„è·¨å¹³å°ç¤¾åŒºä¹‹ä¸€,è€Œä¸”å¯ä»¥åˆ©ç”¨ React çš„èµ„æº,ä½†ä»æ¯” Android å’Œ iOS å°å¾—å¤š.å†åŠ ä¸Šæˆ‘ä»¬å¿…é¡»å†…éƒ¨æ„å»ºå¤§éƒ¨åˆ†åŸºç¡€è®¾æ–½,è¿™æ„å‘³ç€ç›¸å¯¹äº native,æˆ‘ä»¬æŠŠæœ‰é™çš„ React Native èµ„æºè¿‡åº¦åœ°æŠ•èµ„åœ¨æ•™è‚²å’Œè®­ç»ƒ.\n\n---\n\n_è¿™æ˜¯ Airbnb å…³äº React Native ç»éªŒåˆ†äº«å’Œç§»åŠ¨ç«¯æœªæ¥è®¡åˆ’ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸‰ç¯‡._\n\n[ç¬¬ä¸€ç¯‡: React Native at Airbnb](../react-native-at-airbnb-1)\n\n[ç¬¬äºŒç¯‡: The Technology](../react-native-at-airbnb-2)\n\n[ç¬¬ä¸‰ç¯‡: Building a Cross-Platform Mobile Team](../react-native-at-airbnb-3)\n\n[ç¬¬å››ç¯‡: Making a Decision on React Native](../react-native-at-airbnb-4)\n\n[ç¬¬äº”ç¯‡: What's Next for Mobile](../react-native-at-airbnb-5)\n\n- åŸæ–‡åœ°å€ï¼šhttps://medium.com/airbnb-engineering/building-a-cross-platform-mobile-team-3e1837b40a88\n- è¯‘æ–‡å‡ºè‡ªï¼šTWNTF\n- è¯‘è€…ï¼šYingjian Li\n"}],"filteredPosts":[{"key":"goodbye-redux","title":"[ç¿»è¯‘]å†è§äº†, Redux","tag":["Redux"],"date":"2018-09-18"},{"key":"react-native-at-airbnb-4","title":"[ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š å¼ƒç”¨ React Native","tag":["React-Native"],"date":"2018-08-14"},{"key":"react-native-at-airbnb-5","title":"[ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š ç§»åŠ¨ç«¯å‘å±•è®¡åˆ’","tag":["React-Native"],"date":"2018-08-11"},{"key":"redux-vs-context-api","title":"å¯¹æ¯” Redux å’Œ Context API","tag":["React","Redux"],"date":"2018-07-26"},{"key":"react-native-at-airbnb-3","title":"[ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š æ„å»ºä¸€ä¸ªè·¨å¹³å°çš„ç§»åŠ¨ç«¯å›¢é˜Ÿ","tag":["React-Native"],"date":"2018-07-25"},{"key":"react-native-at-airbnb-2","title":"[ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š æŠ€æœ¯ç»†èŠ‚","tag":["React-Native"],"date":"2018-07-19"},{"key":"react-native-at-airbnb-1","title":"[ç¿»è¯‘]Airbnb çš„ React Native å®è·µï¼š æ¦‚è¿°","tag":["React-Native"],"date":"2018-07-18"}]}},"page":"/page","pathname":"/page","query":{"cur":1,"pageCount":2},"buildId":"_C0lHUbZafnHm5wwQ5b9U","assetPrefix":"/next-blog","runtimeConfig":{"backendUrl":"/next-blog"},"nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/page" src="/next-blog/_next/static/_C0lHUbZafnHm5wwQ5b9U/pages/page.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/next-blog/_next/static/_C0lHUbZafnHm5wwQ5b9U/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/next-blog/_next/static/_C0lHUbZafnHm5wwQ5b9U/pages/_error.js"></script><script src="/next-blog/_next/static/runtime/webpack-bf0647fcc5634d05e2c1.js" async=""></script><script src="/next-blog/_next/static/chunks/commons.fe83b0699cc115d8f2f1.js" async=""></script><script src="/next-blog/_next/static/runtime/main-8c21d63e457d27dcf8e4.js" async=""></script></body></html>